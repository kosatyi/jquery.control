{"version":3,"file":"index.min.js","sources":["../../src/core/jquery.js","../../src/core/utils.js","../../src/core/class.js","../../src/core/deparam.js","../../src/core/form.js","../../src/core/location.js","../../src/core/model.js","../../src/core/control.js","../../src/core/view.js","../../src/core/router.js","../../src/utils/storage.js","../../src/utils/cache.js","../../src/index.js"],"sourcesContent":["/**\n * @external jQuery\n * @type function\n */\nconst jQuery = window['jQuery']\n\n\nexport default jQuery\n","export function getType(o) {\n    return {}.toString\n        .call(o)\n        .match(/\\s([a-zA-Z]+)/)[1]\n        .toLowerCase()\n}\n/**\n *\n * @param value\n * @return {*}\n */\nexport function isArray(value) {\n    return Array.isArray(value)\n}\n/**\n *\n * @param value\n * @return {boolean}\n */\nexport function isFunction(value) {\n    return typeof value === 'function'\n}\n\n/**\n *\n * @param o\n * @return {boolean}\n */\nexport function isAnyObject(o) {\n    return getType(o) === 'object'\n}\n/**\n *\n * @param value\n * @returns {*}\n */\nexport function isPlainObject(value) {\n    if (isAnyObject(value) === false) return false\n    return (\n        value.constructor === Object &&\n        Object.getPrototypeOf(value) === Object.prototype\n    )\n}\n/**\n *\n * @param object\n * @param callback\n * @param thisArg\n */\nexport function forEach(object, callback, thisArg) {\n    let prop,\n        context = thisArg || callback\n    for (prop in object) {\n        if (object.hasOwnProperty(prop)) {\n            callback.call(context, object[prop], prop)\n        }\n    }\n}\n\n/**\n *\n * @param obj\n * @returns {{}}\n */\nexport function sortObject(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (result, key) {\n            result[key] = obj[key]\n            return result\n        }, {})\n}\n\n/**\n *\n * @param a\n * @return {string}\n */\nexport function arrayStringify(a) {\n    return JSON.stringify(a.slice().sort())\n}\n\n/**\n *\n * @param a1\n * @param a2\n * @return {boolean}\n */\nexport function compareArrays(a1, a2) {\n    return arrayStringify(a1) === arrayStringify(a2)\n}\n\n/**\n *\n * @param path\n * @return {RegExp}\n */\nexport function pathToRegexp(path) {\n    let result,\n        keys = []\n    function parse(_, slash, format, key, capture, opt) {\n        keys.push({ name: key, optional: !!opt })\n        slash = slash || ''\n        return (\n            '' +\n            (opt ? '' : slash) +\n            '(?:' +\n            (opt ? slash : '') +\n            (format || '') +\n            (capture || (format && '([^/.]+?)') || '([^/]+?)') +\n            ')' +\n            (opt || '')\n        )\n    }\n    path = path.concat('/?')\n    path = path\n        .replace(/\\/\\(/g, '(?:/')\n        .replace(/\\+/g, '__plus__')\n        .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, parse)\n        .replace(/([\\/.])/g, '\\\\$1')\n        .replace(/__plus__/g, '(.+)')\n        .replace(/\\*/g, '(.*)')\n        .replace(/@num/g, '\\\\d+')\n        .replace(/@word/g, '\\\\w+')\n    result = new RegExp('^' + path + '$', '')\n    result.keys = keys\n    return result\n}\n/**\n *\n * @param regexp\n * @param path\n * @returns {{}|boolean}\n */\nexport function pathMatch(regexp, path) {\n    let key\n    let match = regexp.exec(path)\n    let params = {}\n    if (!match) return false\n    for (let i = 1, len = match.length; i < len; ++i)\n        if ((key = regexp.keys[i - 1]))\n            params[key.name] =\n                typeof match[i] === 'string'\n                    ? decodeURIComponent(match[i])\n                    : match[i]\n    return params\n}\n","import { isFunction } from './utils'\n\nconst classRegistry = {}\n\nconst initState = { value: false }\n\nconst hasSuper = (fn) => {\n    return !!~fn.toString().indexOf('this._super(')\n}\n\nconst setPrototypeOf = function (o, p) {\n    const setPrototypeOf = Object.setPrototypeOf\n        ? Object.setPrototypeOf.bind(null)\n        : function _setPrototypeOf(o, p) {\n              o.__proto__ = p\n              return o\n          }\n    return setPrototypeOf(o, p)\n}\n\nconst newConstructor = function (parent, params) {\n    const a = [null]\n    a.push.apply(a, params)\n    return Function.bind.apply(parent, a)\n}\n\nconst newInstance = function (parent, params, extend) {\n    const Constructor = newConstructor(parent, params)\n    const instance = new Constructor()\n    if (extend) setPrototypeOf(instance, extend.prototype)\n    return instance\n}\n\nconst superMethod = function (parent, name, method) {\n    return function () {\n        let temp = this._super,\n            result\n        this._super = parent[name]\n        result = method.apply(this, arguments)\n        this._super = temp\n        return result\n    }\n}\n\nconst assign = function (target, instance) {\n    let prop,\n        proto,\n        parent = target.prototype\n    initState.value = true\n    proto = new target()\n    initState.value = false\n    for (prop in instance) {\n        if (instance.hasOwnProperty(prop)) {\n            if (\n                isFunction(parent[prop]) &&\n                isFunction(instance[prop]) &&\n                hasSuper(instance[prop])\n            ) {\n                proto[prop] = superMethod(parent, prop, instance[prop])\n            } else {\n                proto[prop] = instance[prop]\n            }\n        }\n    }\n    return proto\n}\n/**\n * @type {function}\n * @name Class\n * @constructor\n */\nconst Class = function () {}\n\nClass.prototype = {\n    _super() {},\n    instance() {\n        return newInstance(this.constructor, arguments)\n    },\n    proxy(fn) {\n        fn = typeof fn == 'string' ? this[fn] : fn\n        return (function (cx, cb) {\n            return function () {\n                return cb.apply(cx, [this].concat([].slice.call(arguments)))\n            }\n        })(this, fn)\n    },\n}\n\nClass.extend = function extend(instance, name) {\n    /**\n     *\n     * @constructor\n     * @property {Function} init\n     */\n    function Class() {\n        if (!initState.value && this.init) this.init.apply(this, arguments)\n    }\n\n    Class.prototype = assign(this, instance)\n    Class.prototype.name = name\n    Class.prototype.constructor = Class\n    Class.extend = extend\n    return Class\n}\n\n/**\n * @template {string} T\n * @param {T} name\n * @param extend\n * @param [proto]\n */\nfunction createClass(name, extend, proto) {\n    if (classRegistry[name]) {\n        return classRegistry[name]\n    }\n    /**\n     * @type {extend & proto}\n     * @extends Class\n     */\n    classRegistry[name] = (proto ? classRegistry[extend] : Class).extend(\n        proto ? proto : extend,\n        name\n    )\n    return classRegistry[name]\n}\n\nfunction getClass(name, data) {\n    if (typeof classRegistry[name] !== 'function') return null\n    return new classRegistry[name](data)\n}\n\nexport { Class, getClass, newInstance, createClass }\n","export function deparam(params, coerce, spaces) {\n    let obj = {},\n        coerce_types = { 'true': !0, 'false': !1, 'null': null }\n    if (spaces) params = params.replace(/\\+/g, ' ')\n    params.split('&').forEach(function(v) {\n        let param = v.split('='),\n            key = decodeURIComponent(param[0]),\n            val,\n            cur = obj,\n            i = 0,\n            keys = key.split(']['),\n            keys_last = keys.length - 1\n        if (/\\[/.test(keys[0]) && /]$/.test(keys[keys_last])) {\n            keys[keys_last] = keys[keys_last].replace(/]$/, '')\n            keys = keys.shift().split('[').concat(keys)\n            keys_last = keys.length - 1\n        } else {\n            keys_last = 0\n        }\n        if (param.length === 2) {\n            val = decodeURIComponent(param[1])\n            if (coerce) {\n                val = val && !isNaN(val) && ((+val + '') === val) ? +val\n                    : val === 'undefined' ? undefined\n                        : coerce_types[val] !== undefined ? coerce_types[val]\n                            : val\n            }\n            if (keys_last) {\n                for (; i <= keys_last; i++) {\n                    key = keys[i] === '' ? cur.length : keys[i]\n                    cur = cur[key] = i < keys_last\n                        ? cur[key] || (keys[i + 1] && isNaN(keys[i + 1]) ? {} : [])\n                        : val\n                }\n            } else {\n                if (Object.prototype.toString.call(obj[key]) === '[object Array]') {\n                    obj[key].push(val)\n                } else if ({}.hasOwnProperty.call(obj, key)) {\n                    obj[key] = [obj[key], val]\n                } else {\n                    obj[key] = val\n                }\n            }\n\n        } else if (key) {\n            obj[key] = coerce\n                ? undefined\n                : ''\n        }\n    })\n    return obj\n}\n","import {deparam} from \"./deparam\";\nimport {isPlainObject,isArray,isFunction} from './utils'\n/**\n *\n * @type {function(*, *=, *=): {}}\n */\n\n/**\n *\n * @type {RegExp}\n */\nconst breaker = /[^\\[\\]]+|\\[\\]$/g;\n\n/**\n *\n * @param data\n * @param attr\n * @returns {*|null}\n */\nfunction attr(data, attr) {\n    let i = 0,\n        name = (attr || '').split('.'),\n        prop = name.pop();\n    for (; i < name.length; i++) {\n        if (data && data.hasOwnProperty(name[i])) {\n            data = data[name[i]];\n        } else {\n            break;\n        }\n    }\n    return data ? data[prop] : null;\n}\n\n/**\n *\n * @param obj\n * @returns {*}\n */\nexport function clean(obj) {\n    let prop;\n    for (prop in obj) {\n        if (obj.hasOwnProperty(prop)) {\n            if (obj[prop].length === 0) {\n                if(isArray(obj)) obj.splice(prop, 1);\n                if(isPlainObject(obj)) delete obj[prop];\n            } else if (typeof (obj[prop]) == 'object') {\n                clean(obj[prop]);\n            }\n        }\n    }\n    return obj;\n}\n\n/**\n *\n * @param filter\n * @param coerce\n * @returns {*}\n */\nexport function getFormData(filter,coerce){\n    let form   = this.serializeArray().map(function(field){\n        return [field.name, encodeURIComponent(field.value)].join('=')\n    }).join('&');\n    let params = deparam(form, coerce, false);\n    return filter === true ? clean(params) : params;\n}\n\n/**\n *\n * @param data\n * @returns {setFormData}\n */\nexport function setFormData( data ) {\n    this.find('[name]').each(function(index,element){\n        let current = $(element);\n        let parts = current.attr('name').match(breaker);\n        let value = attr(data,parts.join('.'));\n        if (value) {\n            if (current.is(\":radio\")) {\n                if (current.val() === value) {\n                    current.attr(\"checked\", true);\n                }\n            } else if (current.is(\":checkbox\")) {\n                value = isArray(value) ? value : [value];\n                if (value.indexOf(current.val()) > -1) {\n                    current.attr(\"checked\", true);\n                }\n            } else {\n                current.val(value);\n            }\n        }\n    });\n    return this;\n}\n\n","import { deparam } from './deparam'\n\nlet skip = false\n\nexport const UrlLocation = {\n    prefix: '#',\n    type: 'hash',\n    event: 'hashchange',\n    callbacks: [],\n    initialize: false,\n    url: function(url, replace) {\n        location[replace === true ? 'replace' : 'assign'](url)\n        return this\n    },\n    normalize: function(url) {\n        let prefix = this.prefix\n        if (url.indexOf('http') === 0) prefix = ''\n        else if (url.indexOf('#') === 0) prefix = ''\n        return [prefix, url].join('')\n    },\n    assign: function(url, silent) {\n        skip = silent\n        return this.url(this.normalize(url))\n    },\n    replace: function(url, silent) {\n        skip = silent\n        return this.url(this.normalize(url), true)\n    },\n    href: function() {\n        return location[this.type].slice(1)\n    },\n    part: function(index) {\n        return this.href().split('#')[0].split('?')[index] || ''\n    },\n    query: function(value, replace, silent) {\n        if (arguments.length) {\n            value = value ? [this.part(0), $.param(value)].join('?') : this.part(0)\n            this[replace ? 'replace' : 'assign'](value, silent)\n        } else {\n            return deparam(this.part(1))\n        }\n    },\n    path: function(value, replace, silent) {\n        if (arguments.length) {\n            value = this.part(1) ? [value, this.part(1)].join('?') : value || '/'\n            this[replace ? 'replace' : 'assign'](value, silent)\n        } else {\n            return this.part(0)\n        }\n    },\n    json: function(value, replace, silent) {\n        let href = this.href()\n        let chunk = href.split('#')[0].split('?')[1] || '{}'\n        if (arguments.length) {\n            value = value ? [this.part(0), JSON.stringify(value)].join('?') : this.part(0)\n            this[replace ? 'replace' : 'assign'](value, silent)\n        } else {\n            try {\n                chunk = decodeURIComponent(chunk)\n                chunk = JSON.parse(chunk)\n            } catch (e) {\n                chunk = {}\n            }\n            return chunk\n        }\n    },\n    bind: function(callback) {\n        this.callbacks.push(callback)\n        this.changeHandler = this.changeHandler || this.change.bind(this)\n        if (this.initialize === false) {\n            window.addEventListener(this.event, this.changeHandler)\n            this.initialize = true\n        }\n    },\n    unbind: function(callback) {\n        this.callbacks.splice(this.callbacks.indexOf(callback), 1)\n    },\n    host: function() {\n        return location.host\n    },\n    indexOf: function(str, index) {\n        return this.href().indexOf(str) === index\n    },\n    change: function() {\n        let index\n        if (skip === true) {\n            return skip = false\n        }\n        if (this.callbacks.length) {\n            for (index in this.callbacks) {\n                if (this.callbacks.hasOwnProperty(index)) {\n                    this.callbacks[index].call(this)\n                }\n            }\n        }\n    }\n}\n","import $ from './jquery'\nimport { Class } from './class'\nimport {\n    isArray,\n    isPlainObject,\n    forEach,\n    sortObject,\n    isFunction,\n} from './utils'\n/**\n * @template {string} T\n * @type {{T:Model}}\n */\nconst modelRegistry = {}\n/**\n * @name Model\n * @type {Class|*}\n */\nconst Model = Class.extend({\n    init: function (data) {\n        this.extend(data)\n    },\n    extend: function (data) {\n        if (data) {\n            this.$data = data\n        } else {\n            this.$data = {}\n        }\n    },\n    alt: function (prop, defaults) {\n        prop = this.attr(prop)\n        return typeof prop === 'undefined' ? defaults : prop\n    },\n    defer() {\n        return $.Deferred()\n    },\n    resolve() {\n        return this.defer().resolve(this)\n    },\n    attr(key, value) {\n        let setter = arguments.length > 1\n        let data = this.$data\n        let name = (key || '').split('.')\n        let prop = name.pop()\n        for (let i = 0; i < name.length; i++) {\n            let chunk = name[i]\n            if (data && data.hasOwnProperty(chunk)) {\n                let item = data[chunk]\n                if (isFunction(item.attr)) {\n                    let args = [\n                        key\n                            .split('.')\n                            .slice(i + 1)\n                            .join('.'),\n                    ]\n                    setter && args.push(value)\n                    return item.attr.apply(item, args)\n                } else {\n                    data = data[chunk]\n                }\n            } else {\n                if (setter) {\n                    data = data[chunk] = {}\n                } else {\n                    break\n                }\n            }\n        }\n        if (setter) {\n            data[prop] = value\n        } else {\n            return data ? data[prop] : undefined\n        }\n        return this\n    },\n    eachItem(args) {\n        let name = args[1] ? args[0] : null\n        let callback = args[1] ? args[1] : args[0]\n        let value = name ? this.alt(name, []) : this.$data\n        return {\n            value: sortObject(value),\n            isArray: isArray(value),\n            callback: callback,\n        }\n    },\n    each() {\n        let each = this.eachItem(arguments)\n        forEach(\n            each.value,\n            function (value, key) {\n                each.callback(this.instance(value), value, key)\n            },\n            this\n        )\n    },\n    serialize() {\n        const context = this\n        return (function callback(data) {\n            const result = isArray(data) ? [] : {}\n            for (let prop in data) {\n                if (data.hasOwnProperty(prop)) {\n                    let value = data[prop]\n                    if (value === context) {\n                        continue\n                    }\n                    if (value && isFunction(value.serialize)) {\n                        result[prop] = value.serialize()\n                    } else {\n                        if (isArray(value) || isPlainObject(value)) {\n                            result[prop] = callback(value)\n                        } else {\n                            result[prop] = value\n                        }\n                    }\n                }\n            }\n            return result\n        })(this.$data)\n    },\n    stringify: function () {\n        return JSON.stringify(this.serialize())\n    },\n})\n/**\n * @template {string} T\n * @param {T} name\n * @param extend\n * @param [proto]\n */\nfunction createModel(name, extend, proto) {\n    if (modelRegistry[name]) {\n        return modelRegistry[name]\n    }\n    /**\n     * @type {extend & proto}\n     * @extends Model\n     */\n    modelRegistry[name] = (proto ? modelRegistry[extend] : Model).extend(\n        proto ? proto : extend,\n        name\n    )\n    return modelRegistry[name]\n}\n\n/**\n * @template {string} T\n * @param {T} name\n * @param {object} [data]\n */\nfunction getModel(name, data) {\n    if (typeof modelRegistry[name] !== 'function') return\n    return new modelRegistry[name](data)\n}\n\nexport { Model, getModel, createModel }\n","import $ from './jquery'\nimport {Class, newInstance} from './class'\nimport {compareArrays, forEach} from './utils'\n\n/**\n *\n * @type {{string:Control}}\n */\nconst controlRegistry  = {};\nconst controls = [];\nconst ATTR = 'control';\nconst ATTR_SELECTOR = '['+ ATTR +']';\n\n/**\n * @name Control\n * @property {jQuery} element\n * @property {jQuery} window\n * @property {jQuery} document\n * @type {Class|*}\n */\nconst Control = Class.extend({\n    addControlClassName: true,\n    window: $(window),\n    document: $(document),\n    /**\n     *\n     * @param f\n     * @param s\n     * @param p\n     * @returns {*}\n     * @private\n     */\n    _addProxy_:function(f,s,p){\n        if (p.length === f) p[f-1] = this.proxy(p[f-1]);\n        if (p.length === s) p[s-1] = this.proxy(p[s-1]);\n        return p;\n    },\n    /**\n     *\n     * @param type\n     * @param params\n     * @returns Control\n     * @private\n     */\n    _event_:function(type,params){\n        let args = this.toArray(params);\n        args = this._addProxy_(2,3,args);\n        this.element[type].apply(this.element, args);\n        return this;\n    },\n    /**\n     * @constructor\n     * @param element\n     */\n    init: function (element) {\n        this.pushInstance();\n        this.initElement(element);\n        this.create(element);\n    },\n    /**\n     *\n     */\n    pushInstance: function () {\n        controls.push(this);\n    },\n    /**\n     *\n     * @param element\n     */\n    initElement: function (element) {\n        this.element = $(element);\n        if( this.addControlClassName === true ){\n            this.element.addClass(this.name.split('.').join('-'));\n        }\n    },\n    /**\n     *\n     * @param element\n     */\n    create: function (element) {\n\n    },\n    /**\n     *\n     * @param arr\n     * @returns {*[]}\n     */\n    toArray: function (arr) {\n        return Array.prototype.slice.call(arr);\n    },\n    /**\n     *\n     */\n    initBindings: function () {\n        if (!this._bindings_){\n            this._bindings_ = [];\n        }\n    },\n    /**\n     *\n     * @param args\n     */\n    addBinding: function (args) {\n        this.initBindings();\n        this._bindings_.push([].concat(args));\n    },\n    /**\n     *\n     * @param fn\n     * @returns {*}\n     */\n    proxy: function (fn) {\n        if (!this._proxy_cache_) this._proxy_cache_ = {};\n        if (!this._proxy_cache_[fn]) {\n            this._proxy_cache_[fn] = this._super(fn);\n        }\n        return this._proxy_cache_[fn];\n    },\n    /**\n     * @returns {jQuery.prototype}\n     */\n    find: function () {\n        return this.element.find.apply(this.element, arguments);\n    },\n    /**\n     *\n     * @param tag\n     * @param className\n     * @param attrs\n     * @returns {jQuery.prototype}\n     */\n    el: function (tag, className, attrs) {\n        tag = $(document.createElement(tag));\n        if (className) tag.addClass(className);\n        if (attrs) tag.attr(attrs);\n        return tag;\n    },\n    clearProxyCache: function () {\n        forEach(this._proxy_cache_,function(value,prop){\n            delete this._proxy_cache_[prop];\n        },this)\n    },\n    bind: function () {\n        let el, args = this.toArray(arguments);\n        this.addBinding(args);\n        args = this._addProxy_(3,4,args);\n        el = this[args[0]] || $(args[0]);\n        el.on.apply(el, args.slice(1));\n        return this;\n    },\n    unbind: function () {\n        let el, args = this.toArray(arguments);\n        this.initBindings();\n        this._bindings_ = this._bindings_.filter(function(item){\n            return compareArrays(item,args) === false;\n        },this);\n        args = this._addProxy_(3,4,args);\n        el = this[args[0]] || $(args[0]);\n        el.off.apply(el, args.slice(1));\n        return this;\n    },\n    unbindAll: function () {\n        this.initBindings();\n        this._bindings_.forEach(function (value) {\n            this.unbind.apply(this,value);\n        },this);\n        this._bindings_ = [];\n        return this;\n    },\n    on: function () {\n        this._event_('on',arguments);\n        return this;\n    },\n    off: function () {\n        this._event_('off',arguments);\n        return this;\n    },\n    timeout: function (callback, time) {\n        if (!this._idle_timeout_) this._idle_timeout_ = {};\n        clearTimeout(this._idle_timeout_[callback]);\n        delete this._idle_timeout_[callback];\n        if( time === false ) return this;\n        this._idle_timeout_[callback] = setTimeout(this.proxy(callback), time);\n        return this;\n    },\n    destroy: function () {\n        this.off();\n        this.unbindAll();\n        this.clearProxyCache();\n        this.element.removeClass(this.name.split('.').join('-'));\n        this.element.removeData();\n    },\n    canBeDestroyed: function () {\n        return $.contains(document, this.element.get(0)) === false\n    }\n});\n\nfunction sortControls(a, b) {\n    let c = a.querySelectorAll(ATTR_SELECTOR).length,\n        d = b.querySelectorAll(ATTR_SELECTOR).length;\n    if ((c && !d) || (c > d)) return 1;\n    if ((!c && d) || (c < d)) return -1;\n    return 0;\n}\n\nfunction cleanControls(force) {\n    controls.forEach(function (control,index) {\n        if (control.canBeDestroyed() || force) {\n            control.destroy();\n            controls.splice(index,1)\n        }\n    });\n}\n\n/**\n * @template {string} T\n * @param {T} name\n * @param extend\n * @param [proto]\n */\nfunction createControl(name, extend, proto) {\n    if (controlRegistry[name]) {\n        console.info('control with name [%s] is already exist', name);\n        return controlRegistry[name];\n    }\n    /**\n     * @type {extend & proto}\n     * @extends Control\n     */\n    controlRegistry[name] = (proto ? controlRegistry[extend] : Control).extend(proto ? proto : extend, name);\n    return controlRegistry[name];\n}\n\n/**\n * @template {string} T\n * @param {T} name\n * @returns {controlRegistry[T] & Control}\n */\n\nfunction initControl(name) {\n    const params = [].slice.call(arguments,1)\n    if (typeof(controlRegistry[name]) !== 'function') return;\n    return newInstance(controlRegistry[name],params);\n}\n\nfunction initControls(element){\n    cleanControls();\n    Array.prototype.slice.call(element.querySelectorAll(ATTR_SELECTOR))\n        .sort(sortControls)\n        .forEach(function (item) {\n            item.getAttribute(ATTR).split(',').forEach(function (name) {\n                initControl(name, item);\n            });\n            item.removeAttribute(ATTR);\n        });\n}\n\nexport {\n    createControl,\n    sortControls,\n    cleanControls,\n    initControl,\n    initControls,\n    Control,\n}\n","import $ from './jquery'\nimport {Class} from './class'\nimport {initControl} from './control'\n\nconst listPreload = {};\nconst listView = {};\nconst listAttr = {};\nconst listProp = {};\nconst listCache = {};\n\nconst settings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g,\n    variable: false\n};\n\nconst noMatch = /(.)^/;\n\nconst escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n};\n\nconst escaper = /[\\\\'\\r\\n\\t\\u2028\\u2029]/g;\n\nconst htmlEntities = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;'\n};\n\nconst entityRe = new RegExp('[&<>\"\\']', 'g');\n/**\n *\n * @param object\n * @param callback\n * @param thisArg\n */\nconst forEach = function (object, callback, thisArg) {\n    let prop, context = thisArg || callback;\n    for (prop in object) {\n        if (object.hasOwnProperty(prop)) {\n            callback.call(context, object[prop], prop)\n        }\n    }\n};\n/**\n *\n * @param value\n * @param params\n * @return {string}\n */\nconst stringFormat = function (value, params) {\n    return (value || '').replace(/{(.+?)}/g, function (match, prop) {\n        return typeof (params[prop]) != 'undefined' ? params[prop] : match;\n    });\n};\n\n/**\n *\n * @return {string}\n */\nconst uid = function (ns) {\n    let size = 1000000;\n    let length = String(size).length - 1;\n    let random = Math.abs(Math.random()) * size;\n    let time = String(new Date().getTime()).match(/.{1,7}/g);\n    let result = parseFloat(String(random)).toFixed(length).split('.');\n    return [ns].concat(result).concat(time).join('-');\n};\n/**\n *\n * @param element\n */\nconst mountNodes = function (element) {\n    forEach(listAttr, function (data, id, item, node) {\n        if ((item = element.getElementById(id)) === null) return false;\n        node = document.createElement(data.tag);\n        item.parentNode && item.parentNode.replaceChild(node, item);\n        if (typeof (data.callback) === 'function') {\n            data.callback(node);\n        }\n        delete listAttr[id];\n    })\n};\n/**\n *\n * @param element\n */\nconst mountProps = function (element) {\n    forEach(listProp, function (item, attr) {\n        let node = element.querySelector(item.selector);\n        if (node === null) return;\n        node.removeAttribute(attr);\n        if (typeof (item.callback) === 'function') {\n            item.callback(node);\n        }\n        delete listProp[attr];\n    });\n};\n/**\n *\n * @param string\n * @return {string}\n */\nconst escapeExpr = function (string) {\n    if (string == null) return '';\n    return ('' + string).replace(entityRe, function (match) {\n        return htmlEntities[match];\n    });\n};\n/**\n *\n * @param string\n * @return {string}\n */\nconst escapeString = function (string) {\n    if (string == null) return '';\n    return ('' + string).replace(escaper, function (match) {\n        return '\\\\' + escapes[match];\n    });\n};\n/**\n *\n * @param text\n * @param name\n * @return {function(*=): string}\n */\nconst compile = function (text, name) {\n    let render;\n    let matcher = new RegExp([\n        (settings.escape || noMatch).source,\n        (settings.interpolate || noMatch).source,\n        (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n    let index = 0;\n    let source = \"__p+='\";\n    (text || '').replace(matcher, function (match, escape, interpolate, evaluate, offset) {\n        source += escapeString(text.slice(index, offset));\n        if (escape) source += \"'\\n+((__t=(\" + escape + \"))==null?'':escapeExpr(__t))+\\n'\";\n        if (interpolate) source += \"'\\n+((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n        if (evaluate) source += \"';\\n\" + evaluate + \";\\n__p+='\";\n        index = offset + match.length;\n        return match;\n    });\n    source += \"';\";\n    source = \"with(obj||{}){\\n\" + source + \"}\";\n    source = \"var __t,__p='',__j=[].join,print=function(){__p+=__j.call(arguments,'');};\"\n        + source + \"return __p;\\n//# sourceURL=[\" + name + \"]\";\n    try {\n        render = new Function('obj', 'escapeExpr', source);\n    } catch (e) {\n        console.error(e);\n    }\n    let template = function (data) {\n        let output = '';\n        try {\n            output = render && render.call(this, data, escapeExpr);\n        } catch (e) {\n            console.error(e);\n        }\n        return output;\n    };\n    template.source = 'function(obj){' + source + '}';\n    return template;\n};\n\n/**\n *\n * @param html\n * @return {DocumentFragment}\n */\nconst fragment = function (html) {\n    let template = document.createElement('template');\n    if ('content' in template) {\n        template.innerHTML = html;\n        return document.importNode(template.content, true);\n    }\n    let frag = document.createDocumentFragment();\n    let div = document.createElement('div');\n    div.innerHTML = html;\n    while (div.firstChild) {\n        frag.appendChild(div.firstChild);\n    }\n    return frag;\n}\n\n\n/**\n * @name Template\n * @type {Class|*}\n */\nconst template = Class.extend({\n    init: function (source, name) {\n        this.source = resolver.source(source);\n        this.compile(this.source, name);\n    },\n    compile: function (source, name) {\n        this.output = compile(source, name);\n        return this;\n    },\n    renderHTML: function (data) {\n        data = this.extend(data);\n        return this.output.call(data, data);\n    },\n    render: function (data) {\n        let element = fragment(this.renderHTML(data));\n        mountNodes(element);\n        mountProps(element);\n        return element;\n    },\n    extend: function (data) {\n        return $.extend({}, this, data || {}, helpers);\n    }\n});\n/**\n *\n * @type {string[]}\n */\nconst defaultExtList = ['ejs', 'html', 'svg', 'css', 'js'];\n/**\n *\n * @param list\n * @return {RegExp}\n */\nconst resolverExp = function (list) {\n    return new RegExp('^(.+)(\\\\.)(' + list.join('|') + ')$');\n};\n/**\n *\n *\n */\nconst resolver = {\n    ext: defaultExtList,\n    exp: resolverExp(defaultExtList),\n    set: function (list) {\n        this.ext = list;\n        this.exp = resolverExp(list);\n    },\n    name: function (name) {\n        return String(name).replace(this.exp, '$1');\n    },\n    get: function (name) {\n        let i = 0, c = false;\n        let e = this.ext;\n        let l = listView;\n        let n = this.name(name);\n        for (; i < e.length; i++) {\n            c = l[[n, e[i]].join('.')];\n            if (c) {\n                break;\n            }\n        }\n        return c;\n    },\n    source: function (name) {\n        return this.get(name) || name;\n    }\n}\n\nconst helpers = {\n    /**\n     * @memberOf window\n     * @name $include\n     * @param url\n     * @param data\n     * @returns  {*}\n     */\n    $include: function (url, data) {\n        return view(stringFormat(url, this)).renderHTML(data);\n    },\n    /**\n     * @memberOf window\n     * @name $each\n     * @param object\n     * @param callback\n     * @param context\n     * @returns {*}\n     */\n    $each: function (object, callback, context) {\n        forEach(object, callback, context);\n    },\n    /**\n     * @memberOf window\n     * @name $view\n     * @param tag\n     * @param callback\n     * @returns {*}\n     */\n    $view: function (tag, callback) {\n        let id = uid('node');\n        listAttr[id] = {tag: tag, callback: callback};\n        return stringFormat('<view id=\"{0}\"></view>', [id]);\n    },\n    /**\n     * @memberOf window\n     * @name $prop\n     * @param callback\n     * @returns {string}\n     */\n    $prop: function (callback) {\n        let id = uid('attr');\n        listProp[id] = {selector: ['[', id, ']'].join(''), callback: callback};\n        return ['', id, ''].join(' ');\n    },\n    /**\n     * @memberOf window\n     * @name $control\n     * @param tag\n     * @param control\n     * @param params\n     * @returns {*}\n     */\n    $control: function (tag, control, params) {\n        return this.$view(tag, function (element) {\n            initControl(control, element);\n        });\n    }\n};\n\n/**\n *\n * @param name\n * @return {*}\n */\nfunction view(name) {\n    if (listCache[name]) return listCache[name];\n    listCache[name] = new template(name);\n    return listCache[name];\n}\n\nview.resolver = resolver;\n\n/**\n *\n * @param url\n * @return {*}\n */\nview.preload = function (url) {\n    listPreload[url] = listPreload[url] || $.get(url).then(function (content) {\n        $.extend(listView, content);\n    });\n    return listPreload[url];\n};\n/**\n *\n * @param name\n * @param func\n */\nview.helper = function (name, func) {\n    helpers[name] = func;\n};\n\nexport {view}","import {createClass, getClass} from \"./class\";\nimport {createModel,getModel} from \"./model\";\nimport {view} from './view'\nimport {initControls} from \"./control\";\nimport {UrlLocation} from \"./location\";\nimport {pathToRegexp,pathMatch} from './utils'\n\n/**\n *\n * @type {{hashchange: listener.hashchange}}\n */\nconst listener = {\n    hashchange: function (run) {\n        UrlLocation.bind(function () {\n            run(UrlLocation.path());\n        });\n        if (UrlLocation.part(0) === '') {\n            UrlLocation.assign('/');\n        } else {\n            run(UrlLocation.path());\n        }\n    }\n};\n/**\n * @name RouterQueue\n */\ncreateModel('router.queue', {\n    init(response) {\n        this.callbacks = []\n        this.response = response\n        this.reset()\n    },\n    reset() {\n        this.list = {}\n        this.callbacks.length = 0\n    },\n    has(name) {\n        return this.list.hasOwnProperty(name)\n    },\n    empty() {\n        return Object.keys(this.list).length === 0\n    },\n    complete(name, value) {\n        this.remove(name)\n        this.response.attr(name, value)\n        if (this.empty()) {\n            this.callbacks.forEach((callback) => {\n                this.callbacks.splice(this.callbacks.indexOf(callback), 1)\n                callback()\n            })\n        }\n    },\n    remove(name) {\n        if (this.has(name)) {\n            delete this.list[name]\n        }\n        return this\n    },\n    then(fn) {\n        if (this.empty()) {\n            fn()\n        } else {\n            this.callbacks.push(fn)\n        }\n        return this\n    },\n    stop() {\n        Object.keys(this.list).forEach((name) => {\n            this.remove(name)\n        })\n        this.list = {}\n        this.callbacks.length = 0\n    },\n    notify(name, response) {\n        if (this.has(name)) {\n            this.complete(name, response)\n        }\n    },\n    add(name, promise) {\n        this.list[name] = promise.then(\n            (content) => {\n                this.notify(name, content)\n            },\n            () => {\n                this.notify(name)\n            }\n        )\n        return this\n    },\n});\n/**\n * @name RouterResponse\n */\ncreateModel('router.response', {\n    init: function(data){\n        this.extend(data);\n        this.defer = getModel('router.queue',this);\n    },\n    queue: function(name,defer){\n        this.defer.add(name,defer);\n        return this;\n    },\n    then: function(callback){\n        this.defer.then(callback);\n        return this;\n    },\n    stop: function () {\n        this.defer.stop();\n        return this;\n    },\n    render: function (wrapper, template, data) {\n        wrapper = document.querySelector(wrapper);\n        template = view(template).render(data);\n        wrapper.innerHTML = '';\n        wrapper.appendChild(template);\n        initControls(wrapper);\n        return wrapper;\n    }\n});\n/**\n * @name RouterRequest\n */\ncreateModel('router.request', {\n    query: function () {\n        let query = UrlLocation.query();\n        this.attr('query',query);\n        return query;\n    },\n    match: function (exp) {\n        return new RegExp(exp).test(this.attr('path'));\n    },\n    model: function () {\n        let args = [].slice.call(arguments);\n        let name = args.shift();\n        let method = args.shift();\n        let model = getModel(name);\n        if (method && typeof (model[method]) === 'function') {\n            return model[method].apply(model, args);\n        }\n        return model;\n    },\n    getChildPath: function(){\n        return '/'.concat(this.alt('params._path_',''));\n    },\n    path: function(value){\n        this.attr('path',value);\n    },\n    params: function(data){\n        data = Object.assign({},this.alt('parent',{}),data || {});\n        this.attr('params',data);\n        this.attr('parent',data);\n    }\n});\n/**\n * @name Route\n */\ncreateClass('route', {\n    init: function (name) {\n        this.params = {};\n        this.callbacks = [];\n        this.name  = name;\n        this.regex = pathToRegexp(name);\n    },\n    then: function (fn) {\n        this.callbacks.push(fn);\n        return this;\n    },\n    match: function (path) {\n        this.path = path;\n        this.params = pathMatch(this.regex, this.path);\n        return !!this.params;\n    },\n    getCallbacks: function () {\n        return this.callbacks;\n    }\n});\n/**\n * @name Router\n * @property _before_\n * @property _after_\n * @property _routes_\n * @property request\n * @property response\n */\nconst Router = createClass('router', {\n    init: function () {\n        this._before_ = [];\n        this._after_  = [];\n        this._routes_ = {};\n        this.request  = getModel('router.request');\n        this.response = getModel('router.response');\n    },\n    prepare: function(){\n        this.request.attr('path','');\n        this.request.attr('params',{});\n        this.request.attr('parent',{});\n        this.response.attr('data',{});\n        this.response.stop();\n    },\n    route: function (path) {\n        let route = this._routes_[path] || getClass('route', path);\n        this._routes_[path] = route;\n        return route;\n    },\n    use: function(path){\n        return this.route(path.concat('/',':_path_(*)?'));\n    },\n    before: function (fn) {\n        this._before_.push(fn);\n        return this;\n    },\n    after: function (fn) {\n        this._after_.push(fn);\n        return this;\n    },\n    call: function (context, request, response, next) {\n        this.request  = request;\n        this.response = response;\n        this.find(this.request.getChildPath(),next);\n    },\n    apply: function (context, params) {\n        this.call(context,params[0],params[1],params[2]);\n    },\n    process: function (list, complete) {\n        (function next(cx,index) {\n            let params = [];\n            let route  = list[index] || false;\n            if (route === false) return complete && complete.call && complete.call(cx);\n            params.push(cx.request);\n            params.push(cx.response);\n            params.push(function(){\n                cx.response.then(function(){\n                    next(cx,++index);\n                });\n            });\n            list[index].apply(cx,params);\n        })(this,0);\n    },\n    start: function (route,complete) {\n        this.request.path(route.path);\n        this.request.params(route.params);\n        this.request.query();\n        this.process(this._before_, function () {\n            this.process(route.getCallbacks(), function () {\n                this.process(this._after_, complete);\n            });\n        });\n    },\n    find: function (path,complete) {\n        let route,result = getClass('route', path);\n        if( complete === true ){\n            this.prepare();\n        }\n        for (route in this._routes_) {\n            if (this._routes_.hasOwnProperty(route)) {\n                route = this._routes_[route];\n                if (route.match(path)) {\n                    result = route;\n                    break;\n                }\n            }\n        }\n        this.start(result,complete);\n    },\n    listen: function (callback) {\n        if (typeof (callback) === 'string' && typeof (listener[callback]) === 'function')\n            callback = listener[callback];\n        callback((function (that) {\n            return function (path) {\n                that.find(path,true);\n            };\n        })(this));\n        return this;\n    }\n});\n\nexport {Router}\n","function BackupStorage() {}\n\nBackupStorage.prototype = {\n    getItem: function (key) {\n        return this[key];\n    },\n    setItem: function (key, value) {\n        this[key] = value;\n    },\n    removeItem: function (key) {\n        delete this[key];\n    },\n    clear: function () {\n        for (let key in this) {\n            if (this.hasOwnProperty(key)) {\n                delete this[key];\n            }\n        }\n    }\n};\n\nconst backupStorage = new BackupStorage()\n\nconst StorageProvider = ('localStorage' in window && window['localStorage']) ? window['localStorage'] : backupStorage;\n\nexport {\n    StorageProvider\n}","import { StorageProvider } from './storage'\n\nexport const StorageCache = {\n    storageProvider: StorageProvider,\n    set: function (key, data, ttl) {\n        ttl = new Date().getTime() + ttl * 1000 * 60\n        try {\n            StorageProvider.setItem(['cache', key, 'ttl'].join(':'), ttl)\n            StorageProvider.setItem(\n                ['cache', key].join(':'),\n                JSON.stringify(data)\n            )\n        } catch (e) {\n            StorageProvider.clear()\n        }\n        return this\n    },\n    expire: function (key) {\n        StorageProvider.removeItem(['cache', key, 'ttl'].join(':'))\n        StorageProvider.removeItem(['cache', key].join(':'))\n        return this\n    },\n    exist: function (key) {\n        let ttl = Storage.getItem(['cache', key, 'ttl'].join(':'))\n        return !!(ttl && ttl > new Date().getTime())\n    },\n    get: function (key) {\n        return JSON.parse(Storage.getItem(['cache', key].join(':')))\n    },\n    list: function () {\n        let key,\n            list = []\n        for (key in StorageProvider) {\n            if (StorageProvider.hasOwnProperty(key)) {\n                if (\n                    key.indexOf('cache:') !== -1 &&\n                    key.indexOf(':ttl') === -1\n                ) {\n                    list.push(key.slice(6))\n                }\n            }\n        }\n        return list\n    },\n    clear: function (force) {\n        this.list().forEach(\n            function (key) {\n                ;(force === true || this.exist(key) === false) &&\n                    this.expire(key)\n            }.bind(this)\n        )\n    },\n}\n","import $ from './core/jquery'\nimport { pathToRegexp, pathMatch } from './core/utils'\nimport { Class, createClass, getClass } from './core/class'\nimport { getFormData, setFormData } from './core/form'\nimport { UrlLocation } from './core/location'\nimport { createModel, getModel, Model } from './core/model'\nimport { deparam } from './core/deparam'\nimport { Router } from './core/router'\nimport { view } from './core/view'\nimport { StorageCache } from './utils/cache'\nimport {\n    cleanControls,\n    Control,\n    createControl,\n    initControl,\n    initControls,\n} from './core/control'\n\n$.fn.setFormData = setFormData\n$.fn.getFormData = getFormData\n$.fn.initControls = function () {\n    this.each(function (index, element) {\n        initControls(element)\n    })\n}\n\nexport {\n    $,\n    deparam,\n    view,\n    Class,\n    UrlLocation,\n    Model,\n    Control,\n    Router,\n    StorageCache,\n    pathToRegexp,\n    pathMatch,\n    createClass,\n    getModel,\n    getClass,\n    cleanControls,\n    createControl,\n    createModel,\n    initControl,\n}\n"],"names":["jQuery","window","isArray","value","Array","isFunction","isPlainObject","o","toString","call","match","toLowerCase","getType","constructor","Object","getPrototypeOf","prototype","forEach","object","callback","thisArg","prop","context","hasOwnProperty","arrayStringify","a","JSON","stringify","slice","sort","pathToRegexp","path","result","keys","concat","replace","_","slash","format","key","capture","opt","push","name","optional","RegExp","pathMatch","regexp","exec","params","i","len","length","decodeURIComponent","classRegistry","initState","newInstance","parent","extend","Constructor","apply","Function","bind","newConstructor","instance","p","setPrototypeOf","__proto__","superMethod","method","temp","this","_super","arguments","Class","createClass","proto","getClass","data","deparam","coerce","spaces","obj","coerce_types","true","false","null","split","v","val","param","cur","keys_last","test","shift","isNaN","undefined","proxy","fn","cx","cb","init","target","indexOf","assign","breaker","clean","splice","skip","UrlLocation","prefix","type","event","callbacks","initialize","url","location","normalize","join","silent","href","part","index","query","$","json","chunk","parse","e","changeHandler","change","addEventListener","unbind","host","str","modelRegistry","Model","$data","alt","defaults","attr","defer","Deferred","resolve","setter","pop","item","args","eachItem","reduce","each","serialize","createModel","getModel","controlRegistry","controls","ATTR","ATTR_SELECTOR","Control","addControlClassName","document","_addProxy_","f","s","_event_","toArray","element","pushInstance","initElement","create","addClass","arr","initBindings","_bindings_","addBinding","_proxy_cache_","find","el","tag","className","attrs","createElement","clearProxyCache","on","filter","a2","off","unbindAll","timeout","time","_idle_timeout_","clearTimeout","setTimeout","destroy","removeClass","removeData","canBeDestroyed","contains","get","sortControls","b","c","querySelectorAll","d","cleanControls","force","control","initControl","initControls","getAttribute","removeAttribute","listPreload","listView","listAttr","listProp","listCache","settings","noMatch","escapes","escaper","htmlEntities","entityRe","stringFormat","uid","ns","size","String","random","Math","abs","Date","getTime","parseFloat","toFixed","escapeExpr","string","compile","text","render","matcher","source","escape","interpolate","evaluate","offset","console","error","template","output","resolver","renderHTML","html","innerHTML","importNode","content","frag","createDocumentFragment","div","firstChild","appendChild","fragment","id","node","getElementById","parentNode","replaceChild","mountNodes","querySelector","selector","mountProps","helpers","defaultExtList","resolverExp","list","ext","exp","set","l","n","$include","view","$each","$view","$prop","$control","preload","then","helper","func","listener","hashchange","run","response","reset","has","empty","complete","remove","stop","notify","add","promise","queue","wrapper","model","getChildPath","regex","getCallbacks","Router","_before_","_after_","_routes_","request","prepare","route","use","before","after","next","process","start","listen","that","BackupStorage","getItem","setItem","removeItem","clear","backupStorage","StorageProvider","StorageCache","storageProvider","ttl","expire","exist","Storage","setFormData","current","parts","is","getFormData","serializeArray","map","field","encodeURIComponent","info"],"mappings":"8OAIA,MAAMA,EAASC,OAAe,OCOvB,SAASC,EAAQC,GACpB,OAAOC,MAAMF,QAAQC,EACzB,CAMO,SAASE,EAAWF,GACvB,MAAwB,mBAAVA,CAClB,CAeO,SAASG,EAAcH,GAC1B,OAA2B,IARL,WA7BnB,SAAiBI,GACpB,MAAO,GAAGC,SACLC,KAAKF,GACLG,MAAM,iBAAiB,GACvBC,aACT,CAwBWC,CAQST,MAEZA,EAAMU,cAAgBC,QACtBA,OAAOC,eAAeZ,KAAWW,OAAOE,UAEhD,CAOO,SAASC,EAAQC,EAAQC,EAAUC,GACtC,IAAIC,EACAC,EAAUF,GAAWD,EACzB,IAAKE,KAAQH,EACLA,EAAOK,eAAeF,IACtBF,EAASV,KAAKa,EAASJ,EAAOG,GAAOA,EAGjD,CAqBO,SAASG,EAAeC,GAC3B,OAAOC,KAAKC,UAAUF,EAAEG,QAAQC,OACpC,CAiBO,SAASC,EAAaC,GACzB,IAAIC,EACAC,EAAO,GA2BX,OAXAF,GADAA,EAAOA,EAAKG,OAAO,OAEdC,QAAQ,QAAS,QACjBA,QAAQ,MAAO,YACfA,QAAQ,wCAlBb,SAAeC,EAAGC,EAAOC,EAAQC,EAAKC,EAASC,GAG3C,OAFAR,EAAKS,KAAK,CAAEC,KAAMJ,EAAKK,WAAYH,IACnCJ,EAAQA,GAAS,IAGZI,EAAM,GAAKJ,GACZ,OACCI,EAAMJ,EAAQ,KACdC,GAAU,KACVE,GAAYF,GAAU,aAAgB,YACvC,KACCG,GAAO,GAEhB,IAMKN,QAAQ,WAAY,QACpBA,QAAQ,YAAa,QACrBA,QAAQ,MAAO,QACfA,QAAQ,QAAS,QACjBA,QAAQ,SAAU,QACvBH,EAAS,IAAIa,OAAO,IAAMd,EAAO,IAAK,IACtCC,EAAOC,KAAOA,EACPD,CACX,CAOO,SAASc,EAAUC,EAAQhB,GAC9B,IAAIQ,EACA7B,EAAQqC,EAAOC,KAAKjB,GACpBkB,EAAS,CAAA,EACb,IAAKvC,EAAO,OAAO,EACnB,IAAK,IAAIwC,EAAI,EAAGC,EAAMzC,EAAM0C,OAAQF,EAAIC,IAAOD,GACtCX,EAAMQ,EAAOd,KAAKiB,EAAI,MACvBD,EAAOV,EAAII,MACa,iBAAbjC,EAAMwC,GACPG,mBAAmB3C,EAAMwC,IACzBxC,EAAMwC,IACxB,OAAOD,CACX,CChJA,MAAMK,EAAgB,CAAA,EAEhBC,EAAY,CAAEpD,OAAO,GAsBrBqD,EAAc,SAAUC,EAAQR,EAAQS,GAC1C,MAAMC,EAPa,SAAUF,EAAQR,GACrC,MAAMxB,EAAI,CAAC,MAEX,OADAA,EAAEiB,KAAKkB,MAAMnC,EAAGwB,GACTY,SAASC,KAAKF,MAAMH,EAAQhC,EACvC,CAGwBsC,CAAeN,EAAQR,GACrCe,EAAW,IAAIL,EAErB,OADID,GAnBe,SAAUnD,EAAG0D,GAChC,MAAMC,EAAiBpD,OAAOoD,eACxBpD,OAAOoD,eAAeJ,KAAK,MAC3B,SAAyBvD,EAAG0D,GAExB,OADA1D,EAAE4D,UAAYF,EACP1D,GAEV2D,EAAe3D,EAAG0D,EAC7B,CAWgBC,CAAeF,EAAUN,EAAO1C,WACrCgD,CACX,EAEMI,EAAc,SAAUX,EAAQd,EAAM0B,GACxC,OAAO,WACH,IACIrC,EADAsC,EAAOC,KAAKC,OAKhB,OAHAD,KAAKC,OAASf,EAAOd,GACrBX,EAASqC,EAAOT,MAAMW,KAAME,WAC5BF,KAAKC,OAASF,EACPtC,EAEf,EA6BM0C,EAAQ,WAAc,EAwC5B,SAASC,EAAYhC,EAAMe,EAAQkB,GAC/B,OAAItB,EAAcX,KAOlBW,EAAcX,IAASiC,EAAQtB,EAAcI,GAAUgB,GAAOhB,OAC1DkB,GAAgBlB,EAChBf,IAROW,EAAcX,EAW7B,CAEA,SAASkC,EAASlC,EAAMmC,GACpB,MAAmC,mBAAxBxB,EAAcX,GAA6B,KAC/C,IAAIW,EAAcX,GAAMmC,EACnC,CCjIO,SAASC,EAAQ9B,EAAQ+B,EAAQC,GACpC,IAAIC,EAAM,CAAE,EACRC,EAAe,CAAEC,MAAQ,EAAIC,OAAS,EAAIC,KAAQ,MAgDtD,OA/CIL,IAAQhC,EAASA,EAAOd,QAAQ,MAAO,MAC3Cc,EAAOsC,MAAM,KAAKtE,SAAQ,SAASuE,GAC/B,IAEIC,EAFAC,EAAQF,EAAED,MAAM,KAChBhD,EAAMc,mBAAmBqC,EAAM,IAE/BC,EAAMT,EACNhC,EAAI,EACJjB,EAAOM,EAAIgD,MAAM,MACjBK,EAAY3D,EAAKmB,OAAS,EAQ9B,GAPI,KAAKyC,KAAK5D,EAAK,KAAO,KAAK4D,KAAK5D,EAAK2D,KACrC3D,EAAK2D,GAAa3D,EAAK2D,GAAWzD,QAAQ,KAAM,IAChDF,EAAOA,EAAK6D,QAAQP,MAAM,KAAKrD,OAAOD,GACtC2D,EAAY3D,EAAKmB,OAAS,GAE1BwC,EAAY,EAEK,IAAjBF,EAAMtC,OAQN,GAPAqC,EAAMpC,mBAAmBqC,EAAM,IAC3BV,IACAS,EAAMA,IAAQM,MAAMN,KAAWA,EAAM,KAAQA,GAAQA,EACvC,cAARA,OAAsBO,OACIA,IAAtBb,EAAaM,GAAqBN,EAAaM,GAC3CA,GAEdG,EACA,KAAO1C,GAAK0C,EAAW1C,IACnBX,EAAkB,KAAZN,EAAKiB,GAAYyC,EAAIvC,OAASnB,EAAKiB,GACzCyC,EAAMA,EAAIpD,GAAOW,EAAI0C,EACfD,EAAIpD,KAASN,EAAKiB,EAAI,IAAM6C,MAAM9D,EAAKiB,EAAI,IAAM,CAAE,EAAG,IACtDuC,MAGuC,mBAA7C3E,OAAOE,UAAUR,SAASC,KAAKyE,EAAI3C,IACnC2C,EAAI3C,GAAKG,KAAK+C,IACP,CAAE,EAAClE,eAAed,KAAKyE,EAAK3C,GAGnC2C,EAAI3C,GAAOkD,EAFXP,EAAI3C,GAAO,CAAC2C,EAAI3C,GAAMkD,QAMvBlD,IACP2C,EAAI3C,GAAOyC,OACLgB,EACA,GAEd,IACOd,CACX,CDsBAR,EAAM1D,UAAY,CACdwD,SAAW,EACXR,WACI,OAAOR,EAAYe,KAAK1D,YAAa4D,UACxC,EACDwB,MAAMC,GAEF,OADAA,EAAkB,iBAANA,EAAiB3B,KAAK2B,GAAMA,EACtBC,EAIf5B,KAJmB6B,EAIbF,EAHE,WACH,OAAOE,EAAGxC,MAAMuC,EAAI,CAAC5B,MAAMrC,OAAO,GAAGN,MAAMnB,KAAKgE,cAFhD,IAAU0B,EAAIC,CAK1B,GAGJ1B,EAAMhB,OAAS,SAASA,EAAOM,EAAUrB,GAMrC,SAAS+B,KACAnB,EAAUpD,OAASoE,KAAK8B,MAAM9B,KAAK8B,KAAKzC,MAAMW,KAAME,UAC7D,CAMA,OAJAC,EAAM1D,UAtDK,SAAUsF,EAAQtC,GAC7B,IAAI3C,EACAuD,EACAnB,EAAS6C,EAAOtF,UAIpB,IAAKK,KAHLkC,EAAUpD,OAAQ,EAClByE,EAAQ,IAAI0B,EACZ/C,EAAUpD,OAAQ,EACL6D,EACLA,EAASzC,eAAeF,KAEpBhB,EAAWoD,EAAOpC,KAClBhB,EAAW2D,EAAS3C,MACX2C,EAAS3C,GAjDjBb,WAAW+F,QAAQ,gBAmDpB3B,EAAMvD,GAAQ+C,EAAYX,EAAQpC,EAAM2C,EAAS3C,IAEjDuD,EAAMvD,GAAQ2C,EAAS3C,IAInC,OAAOuD,CACX,CAiCsB4B,CAAOjC,KAAMP,GAC/BU,EAAM1D,UAAU2B,KAAOA,EACvB+B,EAAM1D,UAAUH,YAAc6D,EAC9BA,EAAMhB,OAASA,EACRgB,CACX,EE5FA,MAAM+B,EAAU,kBA2BT,SAASC,EAAMxB,GAClB,IAAI7D,EACJ,IAAKA,KAAQ6D,EACLA,EAAI3D,eAAeF,KACM,IAArB6D,EAAI7D,GAAM+B,QACPlD,EAAQgF,IAAMA,EAAIyB,OAAOtF,EAAM,GAC/Bf,EAAc4E,WAAaA,EAAI7D,IACL,iBAAd6D,EAAI7D,IACnBqF,EAAMxB,EAAI7D,KAItB,OAAO6D,CACX,CCjDA,IAAI0B,GAAO,EAEJ,MAAMC,EAAc,CACvBC,OAAQ,IACRC,KAAM,OACNC,MAAO,aACPC,UAAW,GACXC,YAAY,EACZC,IAAK,SAASA,EAAKhF,GAEf,OADAiF,UAAqB,IAAZjF,EAAmB,UAAY,UAAUgF,GAC3C5C,IACV,EACD8C,UAAW,SAASF,GAChB,IAAIL,EAASvC,KAAKuC,OAGlB,OAF4B,IAAxBK,EAAIZ,QAAQ,SACc,IAArBY,EAAIZ,QAAQ,QADUO,EAAS,IAEjC,CAACA,EAAQK,GAAKG,KAAK,GAC7B,EACDd,OAAQ,SAASW,EAAKI,GAElB,OADAX,EAAOW,EACAhD,KAAK4C,IAAI5C,KAAK8C,UAAUF,GAClC,EACDhF,QAAS,SAASgF,EAAKI,GAEnB,OADAX,EAAOW,EACAhD,KAAK4C,IAAI5C,KAAK8C,UAAUF,IAAM,EACxC,EACDK,KAAM,WACF,OAAOJ,SAAS7C,KAAKwC,MAAMnF,MAAM,EACpC,EACD6F,KAAM,SAASC,GACX,OAAOnD,KAAKiD,OAAOjC,MAAM,KAAK,GAAGA,MAAM,KAAKmC,IAAU,EACzD,EACDC,MAAO,SAASxH,EAAOgC,EAASoF,GAC5B,IAAI9C,UAAUrB,OAIV,OAAO2B,EAAQR,KAAKkD,KAAK,IAHzBtH,EAAQA,EAAQ,CAACoE,KAAKkD,KAAK,GAAIG,EAAElC,MAAMvF,IAAQmH,KAAK,KAAO/C,KAAKkD,KAAK,GACrElD,KAAKpC,EAAU,UAAY,UAAUhC,EAAOoH,EAInD,EACDxF,KAAM,SAAS5B,EAAOgC,EAASoF,GAC3B,IAAI9C,UAAUrB,OAIV,OAAOmB,KAAKkD,KAAK,GAHjBtH,EAAQoE,KAAKkD,KAAK,GAAK,CAACtH,EAAOoE,KAAKkD,KAAK,IAAIH,KAAK,KAAOnH,GAAS,IAClEoE,KAAKpC,EAAU,UAAY,UAAUhC,EAAOoH,EAInD,EACDM,KAAM,SAAS1H,EAAOgC,EAASoF,GAC3B,IACIO,EADOvD,KAAKiD,OACCjC,MAAM,KAAK,GAAGA,MAAM,KAAK,IAAM,KAChD,IAAId,UAAUrB,OAGP,CACH,IACI0E,EAAQzE,mBAAmByE,GAC3BA,EAAQpG,KAAKqG,MAAMD,EACtB,CAAC,MAAOE,GACLF,EAAQ,CAAA,CACZ,CACA,OAAOA,CACX,CAVI3H,EAAQA,EAAQ,CAACoE,KAAKkD,KAAK,GAAI/F,KAAKC,UAAUxB,IAAQmH,KAAK,KAAO/C,KAAKkD,KAAK,GAC5ElD,KAAKpC,EAAU,UAAY,UAAUhC,EAAOoH,EAUnD,EACDzD,KAAM,SAAS3C,GACXoD,KAAK0C,UAAUvE,KAAKvB,GACpBoD,KAAK0D,cAAgB1D,KAAK0D,eAAiB1D,KAAK2D,OAAOpE,KAAKS,OACpC,IAApBA,KAAK2C,aACLjH,OAAOkI,iBAAiB5D,KAAKyC,MAAOzC,KAAK0D,eACzC1D,KAAK2C,YAAa,EAEzB,EACDkB,OAAQ,SAASjH,GACboD,KAAK0C,UAAUN,OAAOpC,KAAK0C,UAAUV,QAAQpF,GAAW,EAC3D,EACDkH,KAAM,WACF,OAAOjB,SAASiB,IACnB,EACD9B,QAAS,SAAS+B,EAAKZ,GACnB,OAAOnD,KAAKiD,OAAOjB,QAAQ+B,KAASZ,CACvC,EACDQ,OAAQ,WACJ,IAAIR,EACJ,IAAa,IAATd,EACA,OAAOA,GAAO,EAElB,GAAIrC,KAAK0C,UAAU7D,OACf,IAAKsE,KAASnD,KAAK0C,UACX1C,KAAK0C,UAAU1F,eAAemG,IAC9BnD,KAAK0C,UAAUS,GAAOjH,KAAK8D,KAI3C,GClFEgE,EAAgB,CAAA,EAKhBC,EAAQ9D,EAAMhB,OAAO,CACvB2C,KAAM,SAAUvB,GACZP,KAAKb,OAAOoB,EACf,EACDpB,OAAQ,SAAUoB,GAEVP,KAAKkE,MADL3D,GAGa,EAEpB,EACD4D,IAAK,SAAUrH,EAAMsH,GAEjB,YAAuB,KADvBtH,EAAOkD,KAAKqE,KAAKvH,IACoBsH,EAAWtH,CACnD,EACDwH,MAAKA,IACMjB,EAAEkB,WAEbC,UACI,OAAOxE,KAAKsE,QAAQE,QAAQxE,KAC/B,EACDqE,KAAKrG,EAAKpC,GACN,IAAI6I,EAASvE,UAAUrB,OAAS,EAC5B0B,EAAOP,KAAKkE,MACZ9F,GAAQJ,GAAO,IAAIgD,MAAM,KACzBlE,EAAOsB,EAAKsG,MAChB,IAAK,IAAI/F,EAAI,EAAGA,EAAIP,EAAKS,OAAQF,IAAK,CAClC,IAAI4E,EAAQnF,EAAKO,GACjB,GAAI4B,GAAQA,EAAKvD,eAAeuG,GAAQ,CACpC,IAAIoB,EAAOpE,EAAKgD,GAChB,GAAIzH,EAAW6I,EAAKN,MAAO,CACvB,IAAIO,EAAO,CACP5G,EACKgD,MAAM,KACN3D,MAAMsB,EAAI,GACVoE,KAAK,MAGd,OADA0B,GAAUG,EAAKzG,KAAKvC,GACb+I,EAAKN,KAAKhF,MAAMsF,EAAMC,EACjC,CACIrE,EAAOA,EAAKgD,EAEpB,KAAO,CACH,IAAIkB,EAGA,MAFAlE,EAAOA,EAAKgD,GAAS,EAI7B,CACJ,CACA,OAAIkB,GACAlE,EAAKzD,GAAQlB,EAIVoE,MAFIO,EAAOA,EAAKzD,QAAQ2E,CAGlC,EACDoD,SAASD,GACL,IAAIxG,EAAOwG,EAAK,GAAKA,EAAK,GAAK,KAC3BhI,EAAWgI,EAAK,GAAKA,EAAK,GAAKA,EAAK,GACpChJ,EAAQwC,EAAO4B,KAAKmE,IAAI/F,EAAM,IAAM4B,KAAKkE,MAC7C,MAAO,CACHtI,OLhBe+E,EKgBG/E,ELfnBW,OAAOmB,KAAKiD,GACdrD,OACAwH,QAAO,SAAUrH,EAAQO,GAEtB,OADAP,EAAOO,GAAO2C,EAAI3C,GACXP,CACV,GAAE,CAAE,IKWD9B,QAASA,EAAQC,GACjBgB,SAAUA,GLlBf,IAAoB+D,CKoBtB,EACDoE,OACI,IAAIA,EAAO/E,KAAK6E,SAAS3E,WACzBxD,EACIqI,EAAKnJ,OACL,SAAUA,EAAOoC,GACb+G,EAAKnI,SAASoD,KAAKP,SAAS7D,GAAQA,EAAOoC,EAC9C,GACDgC,KAEP,EACDgF,YACI,MAAMjI,EAAUiD,KAChB,OAAQ,SAASpD,EAAS2D,GACtB,MAAM9C,EAAS9B,EAAQ4E,GAAQ,GAAK,CAAA,EACpC,IAAK,IAAIzD,KAAQyD,EACb,GAAIA,EAAKvD,eAAeF,GAAO,CAC3B,IAAIlB,EAAQ2E,EAAKzD,GACjB,GAAIlB,IAAUmB,EACV,SAEAnB,GAASE,EAAWF,EAAMoJ,WAC1BvH,EAAOX,GAAQlB,EAAMoJ,YAEjBrJ,EAAQC,IAAUG,EAAcH,GAChC6B,EAAOX,GAAQF,EAAShB,GAExB6B,EAAOX,GAAQlB,CAG3B,CAEJ,OAAO6B,CACX,CApBQ,CAoBLuC,KAAKkE,MACX,EACD9G,UAAW,WACP,OAAOD,KAAKC,UAAU4C,KAAKgF,YAC/B,IAQJ,SAASC,EAAY7G,EAAMe,EAAQkB,GAC/B,OAAI2D,EAAc5F,KAOlB4F,EAAc5F,IAASiC,EAAQ2D,EAAc7E,GAAU8E,GAAO9E,OAC1DkB,GAAgBlB,EAChBf,IARO4F,EAAc5F,EAW7B,CAOA,SAAS8G,EAAS9G,EAAMmC,GACpB,GAAmC,mBAAxByD,EAAc5F,GACzB,OAAO,IAAI4F,EAAc5F,GAAMmC,EACnC,CChJA,MAAM4E,EAAmB,CAAA,EACnBC,EAAW,GACXC,EAAO,UACPC,EAAgB,IAAKD,EAAM,IAS3BE,EAAUpF,EAAMhB,OAAO,CACzBqG,qBAAqB,EACrB9J,OAAQ2H,EAAE3H,QACV+J,SAAUpC,EAAEoC,UASZC,WAAW,SAASC,EAAEC,EAAElG,GAGpB,OAFIA,EAAEb,SAAW8G,IAAGjG,EAAEiG,EAAE,GAAK3F,KAAK0B,MAAMhC,EAAEiG,EAAE,KACxCjG,EAAEb,SAAW+G,IAAGlG,EAAEkG,EAAE,GAAK5F,KAAK0B,MAAMhC,EAAEkG,EAAE,KACrClG,CACV,EAQDmG,QAAQ,SAASrD,EAAK9D,GAClB,IAAIkG,EAAO5E,KAAK8F,QAAQpH,GAGxB,OAFAkG,EAAO5E,KAAK0F,WAAW,EAAE,EAAEd,GAC3B5E,KAAK+F,QAAQvD,GAAMnD,MAAMW,KAAK+F,QAASnB,GAChC5E,IACV,EAKD8B,KAAM,SAAUiE,GACZ/F,KAAKgG,eACLhG,KAAKiG,YAAYF,GACjB/F,KAAKkG,OAAOH,EACf,EAIDC,aAAc,WACVZ,EAASjH,KAAK6B,KACjB,EAKDiG,YAAa,SAAUF,GACnB/F,KAAK+F,QAAU1C,EAAE0C,IACgB,IAA7B/F,KAAKwF,qBACLxF,KAAK+F,QAAQI,SAASnG,KAAK5B,KAAK4C,MAAM,KAAK+B,KAAK,KAEvD,EAKDmD,OAAQ,SAAUH,GAEjB,EAMDD,QAAS,SAAUM,GACf,OAAOvK,MAAMY,UAAUY,MAAMnB,KAAKkK,EACrC,EAIDC,aAAc,WACLrG,KAAKsG,aACNtG,KAAKsG,WAAa,GAEzB,EAKDC,WAAY,SAAU3B,GAClB5E,KAAKqG,eACLrG,KAAKsG,WAAWnI,KAAK,GAAGR,OAAOiH,GAClC,EAMDlD,MAAO,SAAUC,GAKb,OAJK3B,KAAKwG,gBAAexG,KAAKwG,cAAgB,CAAA,GACzCxG,KAAKwG,cAAc7E,KACpB3B,KAAKwG,cAAc7E,GAAM3B,KAAKC,OAAO0B,IAElC3B,KAAKwG,cAAc7E,EAC7B,EAID8E,KAAM,WACF,OAAOzG,KAAK+F,QAAQU,KAAKpH,MAAMW,KAAK+F,QAAS7F,UAChD,EAQDwG,GAAI,SAAUC,EAAKC,EAAWC,GAI1B,OAHAF,EAAMtD,EAAEoC,SAASqB,cAAcH,IAC3BC,GAAWD,EAAIR,SAASS,GACxBC,GAAOF,EAAItC,KAAKwC,GACbF,CACV,EACDI,gBAAiB,WACbrK,EAAQsD,KAAKwG,eAAc,SAAS5K,EAAMkB,UAC/BkD,KAAKwG,cAAc1J,EAC7B,GAACkD,KACL,EACDT,KAAM,WACF,IAAImH,EAAI9B,EAAO5E,KAAK8F,QAAQ5F,WAK5B,OAJAF,KAAKuG,WAAW3B,GAChBA,EAAO5E,KAAK0F,WAAW,EAAE,EAAEd,GAC3B8B,EAAK1G,KAAK4E,EAAK,KAAOvB,EAAEuB,EAAK,IAC7B8B,EAAGM,GAAG3H,MAAMqH,EAAI9B,EAAKvH,MAAM,IACpB2C,IACV,EACD6D,OAAQ,WACJ,IAAI6C,EAAI9B,EAAO5E,KAAK8F,QAAQ5F,WAQ5B,OAPAF,KAAKqG,eACLrG,KAAKsG,WAAatG,KAAKsG,WAAWW,QAAO,SAAStC,GAC9C,OAAoC,INlEduC,EMkEItC,ENjE3B3H,EMiEsB0H,KNjEC1H,EAAeiK,IAD1C,IAA2BA,CMmEzB,GAAClH,MACF4E,EAAO5E,KAAK0F,WAAW,EAAE,EAAEd,GAC3B8B,EAAK1G,KAAK4E,EAAK,KAAOvB,EAAEuB,EAAK,IAC7B8B,EAAGS,IAAI9H,MAAMqH,EAAI9B,EAAKvH,MAAM,IACrB2C,IACV,EACDoH,UAAW,WAMP,OALApH,KAAKqG,eACLrG,KAAKsG,WAAW5J,SAAQ,SAAUd,GAC9BoE,KAAK6D,OAAOxE,MAAMW,KAAKpE,EAC1B,GAACoE,MACFA,KAAKsG,WAAa,GACXtG,IACV,EACDgH,GAAI,WAEA,OADAhH,KAAK6F,QAAQ,KAAK3F,WACXF,IACV,EACDmH,IAAK,WAED,OADAnH,KAAK6F,QAAQ,MAAM3F,WACZF,IACV,EACDqH,QAAS,SAAUzK,EAAU0K,GAIzB,OAHKtH,KAAKuH,iBAAgBvH,KAAKuH,eAAiB,CAAA,GAChDC,aAAaxH,KAAKuH,eAAe3K,WAC1BoD,KAAKuH,eAAe3K,IACd,IAAT0K,IACJtH,KAAKuH,eAAe3K,GAAY6K,WAAWzH,KAAK0B,MAAM9E,GAAW0K,IADrCtH,IAG/B,EACD0H,QAAS,WACL1H,KAAKmH,MACLnH,KAAKoH,YACLpH,KAAK+G,kBACL/G,KAAK+F,QAAQ4B,YAAY3H,KAAK5B,KAAK4C,MAAM,KAAK+B,KAAK,MACnD/C,KAAK+F,QAAQ6B,YAChB,EACDC,eAAgB,WACZ,OAAqD,IAA9CxE,EAAEyE,SAASrC,SAAUzF,KAAK+F,QAAQgC,IAAI,GACjD,IAGJ,SAASC,EAAa9K,EAAG+K,GACrB,IAAIC,EAAIhL,EAAEiL,iBAAiB7C,GAAezG,OACtCuJ,EAAIH,EAAEE,iBAAiB7C,GAAezG,OAC1C,OAAKqJ,IAAME,GAAOF,EAAIE,EAAW,GAC3BF,GAAKE,GAAOF,EAAIE,GAAY,EAC3B,CACX,CAEA,SAASC,EAAcC,GACnBlD,EAAS1I,SAAQ,SAAU6L,EAAQpF,IAC3BoF,EAAQV,kBAAoBS,KAC5BC,EAAQb,UACRtC,EAAShD,OAAOe,EAAM,GAE9B,GACJ,CA2BA,SAASqF,EAAYpK,GACjB,MAAMM,EAAS,GAAGrB,MAAMnB,KAAKgE,UAAU,GACvC,GAAsC,mBAA3BiF,EAAgB/G,GAC3B,OAAOa,EAAYkG,EAAgB/G,GAAMM,EAC7C,CAEA,SAAS+J,EAAa1C,GAClBsC,IACAxM,MAAMY,UAAUY,MAAMnB,KAAK6J,EAAQoC,iBAAiB7C,IAC/ChI,KAAK0K,GACLtL,SAAQ,SAAUiI,GACfA,EAAK+D,aAAarD,GAAMrE,MAAM,KAAKtE,SAAQ,SAAU0B,GACjDoK,EAAYpK,EAAMuG,EACtB,IACAA,EAAKgE,gBAAgBtD,EACzB,GACR,CC3PA,MAAMuD,EAAc,CAAA,EACdC,EAAW,CAAA,EACXC,EAAW,CAAA,EACXC,EAAW,CAAA,EACXC,EAAY,CAAA,EAEZC,EACQ,kBADRA,EAEW,mBAFXA,EAGM,mBAINC,EAAU,OAEVC,EAAU,CACZ,IAAK,IACL,KAAM,KACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,SAAU,QACV,SAAU,SAGRC,EAAU,2BAEVC,EAAe,CACjB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,UAGHC,EAAW,IAAIhL,OAAO,WAAY,KAOlC5B,EAAU,SAAUC,EAAQC,EAAUC,GACxC,IAAIC,EAAMC,EAAUF,GAAWD,EAC/B,IAAKE,KAAQH,EACLA,EAAOK,eAAeF,IACtBF,EAASV,KAAKa,EAASJ,EAAOG,GAAOA,EAGjD,EAOMyM,EAAe,SAAU3N,EAAO8C,GAClC,OAAQ9C,GAAS,IAAIgC,QAAQ,YAAY,SAAUzB,EAAOW,GACtD,YAAgC,IAAjB4B,EAAO5B,GAAwB4B,EAAO5B,GAAQX,CACjE,GACJ,EAMMqN,EAAM,SAAUC,GAClB,IAAIC,EAAO,IACP7K,EAAS8K,OAAOD,GAAM7K,OAAS,EAC/B+K,EAASC,KAAKC,IAAID,KAAKD,UAAYF,EACnCpC,EAAOqC,QAAO,IAAII,MAAOC,WAAW7N,MAAM,WAC1CsB,EAASwM,WAAWN,OAAOC,IAASM,QAAQrL,GAAQmC,MAAM,KAC9D,MAAO,CAACyI,GAAI9L,OAAOF,GAAQE,OAAO2J,GAAMvE,KAAK,IACjD,EAoCMoH,EAAa,SAAUC,GACzB,OAAc,MAAVA,EAAuB,IACnB,GAAKA,GAAQxM,QAAQ0L,GAAU,SAAUnN,GAC7C,OAAOkN,EAAalN,EACxB,GACJ,EAkBMkO,EAAU,SAAUC,EAAMlM,GAC5B,IAAImM,EACAC,EAAU,IAAIlM,OAAO,EACpB2K,GAAmBC,GAASuB,QAC5BxB,GAAwBC,GAASuB,QACjCxB,GAAqBC,GAASuB,QACjC1H,KAAK,KAAO,KAAM,KAChBI,EAAQ,EACRsH,EAAS,UACZH,GAAQ,IAAI1M,QAAQ4M,GAAS,SAAUrO,EAAOuO,EAAQC,EAAaC,EAAUC,GArB7D,IAAUT,EA2BvB,OALAK,GArBU,OADaL,EAsBAE,EAAKjN,MAAM8F,EAAO0H,IArBlB,IACnB,GAAKT,GAAQxM,QAAQwL,GAAS,SAAUjN,GAC5C,MAAO,KAAOgN,EAAQhN,EAC1B,IAmBQuO,IAAQD,GAAU,cAAgBC,EAAS,oCAC3CC,IAAaF,GAAU,cAAgBE,EAAc,wBACrDC,IAAUH,GAAU,OAASG,EAAW,aAC5CzH,EAAQ0H,EAAS1O,EAAM0C,OAChB1C,CACX,IACAsO,GAAU,KACVA,EAAS,mBAAqBA,EAAS,IACvCA,EAAS,6EACHA,EAAS,+BAAiCrM,EAAO,IACvD,IACImM,EAAS,IAAIjL,SAAS,MAAO,aAAcmL,EAC9C,CAAC,MAAOhH,GACLqH,QAAQC,MAAMtH,EAClB,CACA,IAAIuH,EAAW,SAAUzK,GACrB,IAAI0K,EAAS,GACb,IACIA,EAASV,GAAUA,EAAOrO,KAAK8D,KAAMO,EAAM4J,EAC9C,CAAC,MAAO1G,GACLqH,QAAQC,MAAMtH,EAClB,CACA,OAAOwH,GAGX,OADAD,EAASP,OAAS,iBAAmBA,EAAS,IACvCO,CACX,EA2BMA,EAAW7K,EAAMhB,OAAO,CAC1B2C,KAAM,SAAU2I,EAAQrM,GACpB4B,KAAKyK,OAASS,GAAST,OAAOA,GAC9BzK,KAAKqK,QAAQrK,KAAKyK,OAAQrM,EAC7B,EACDiM,QAAS,SAAUI,EAAQrM,GAEvB,OADA4B,KAAKiL,OAASZ,EAAQI,EAAQrM,GACvB4B,IACV,EACDmL,WAAY,SAAU5K,GAElB,OADAA,EAAOP,KAAKb,OAAOoB,GACZP,KAAKiL,OAAO/O,KAAKqE,EAAMA,EACjC,EACDgK,OAAQ,SAAUhK,GACd,IAAIwF,EAlCK,SAAUqF,GACvB,IAAIJ,EAAWvF,SAASqB,cAAc,YACtC,GAAI,YAAakE,EAEb,OADAA,EAASK,UAAYD,EACd3F,SAAS6F,WAAWN,EAASO,SAAS,GAEjD,IAAIC,EAAO/F,SAASgG,yBAChBC,EAAMjG,SAASqB,cAAc,OAEjC,IADA4E,EAAIL,UAAYD,EACTM,EAAIC,YACPH,EAAKI,YAAYF,EAAIC,YAEzB,OAAOH,CACX,CAqBsBK,CAAS7L,KAAKmL,WAAW5K,IAGvC,OAvIW,SAAUwF,GACzBrJ,EAAQoM,GAAU,SAAUvI,EAAMuL,EAAInH,EAAMoH,GACxC,GAA4C,QAAvCpH,EAAOoB,EAAQiG,eAAeF,IAAe,OAAO,EACzDC,EAAOtG,SAASqB,cAAcvG,EAAKoG,KACnChC,EAAKsH,YAActH,EAAKsH,WAAWC,aAAaH,EAAMpH,GACvB,mBAAnBpE,EAAK3D,UACb2D,EAAK3D,SAASmP,UAEXjD,EAASgD,EACpB,GACJ,CA2HQK,CAAWpG,GAtHA,SAAUA,GACzBrJ,EAAQqM,GAAU,SAAUpE,EAAMN,GAC9B,IAAI0H,EAAOhG,EAAQqG,cAAczH,EAAK0H,UACzB,OAATN,IACJA,EAAKpD,gBAAgBtE,GACU,mBAAnBM,EAAK/H,UACb+H,EAAK/H,SAASmP,UAEXhD,EAAS1E,GACpB,GACJ,CA6GQiI,CAAWvG,GACJA,CACV,EACD5G,OAAQ,SAAUoB,GACd,OAAO8C,EAAElE,OAAO,CAAE,EAAEa,KAAMO,GAAQ,CAAA,EAAIgM,GAC1C,IAMEC,GAAiB,CAAC,MAAO,OAAQ,MAAO,MAAO,MAM/CC,GAAc,SAAUC,GAC1B,OAAO,IAAIpO,OAAO,cAAgBoO,EAAK3J,KAAK,KAAO,KACvD,EAKMmI,GAAW,CACbyB,IAAKH,GACLI,IAAKH,GAAYD,IACjBK,IAAK,SAAUH,GACX1M,KAAK2M,IAAMD,EACX1M,KAAK4M,IAAMH,GAAYC,EAC1B,EACDtO,KAAM,SAAUA,GACZ,OAAOuL,OAAOvL,GAAMR,QAAQoC,KAAK4M,IAAK,KACzC,EACD7E,IAAK,SAAU3J,GACX,IAAIO,EAAI,EAAGuJ,GAAI,EACXzE,EAAIzD,KAAK2M,IACTG,EAAIjE,EACJkE,EAAI/M,KAAK5B,KAAKA,GAClB,KAAOO,EAAI8E,EAAE5E,SACTqJ,EAAI4E,EAAE,CAACC,EAAGtJ,EAAE9E,IAAIoE,KAAK,OACjBmF,GAFavJ,KAMrB,OAAOuJ,CACV,EACDuC,OAAQ,SAAUrM,GACd,OAAO4B,KAAK+H,IAAI3J,IAASA,CAC7B,GAGEmO,GAAU,CAQZS,SAAU,SAAUpK,EAAKrC,GACrB,OAAO0M,GAAK1D,EAAa3G,EAAK5C,OAAOmL,WAAW5K,EACnD,EASD2M,MAAO,SAAUvQ,EAAQC,EAAUG,GAC/BL,EAAQC,EAAQC,EAAUG,EAC7B,EAQDoQ,MAAO,SAAUxG,EAAK/J,GAClB,IAAIkP,EAAKtC,EAAI,QAEb,OADAV,EAASgD,GAAM,CAACnF,IAAKA,EAAK/J,SAAUA,GAC7B2M,EAAa,yBAA0B,CAACuC,GAClD,EAODsB,MAAO,SAAUxQ,GACb,IAAIkP,EAAKtC,EAAI,QAEb,OADAT,EAAS+C,GAAM,CAACO,SAAU,CAAC,IAAKP,EAAI,KAAK/I,KAAK,IAAKnG,SAAUA,GACtD,CAAC,GAAIkP,EAAI,IAAI/I,KAAK,IAC5B,EASDsK,SAAU,SAAU1G,EAAK4B,EAAS7J,GAC9B,OAAOsB,KAAKmN,MAAMxG,GAAK,SAAUZ,GAC7ByC,EAAYD,EAASxC,EACzB,GACJ,GAQJ,SAASkH,GAAK7O,GACV,OAAI4K,EAAU5K,KACd4K,EAAU5K,GAAQ,IAAI4M,EAAS5M,IADH4K,EAAU5K,EAG1C,CAEA6O,GAAK/B,SAAWA,GAOhB+B,GAAKK,QAAU,SAAU1K,GAIrB,OAHAgG,EAAYhG,GAAOgG,EAAYhG,IAAQS,EAAE0E,IAAInF,GAAK2K,MAAK,SAAUhC,GAC7DlI,EAAElE,OAAO0J,EAAU0C,EACvB,IACO3C,EAAYhG,EACvB,EAMAqK,GAAKO,OAAS,SAAUpP,EAAMqP,GAC1BlB,GAAQnO,GAAQqP,CACpB,EC5VA,MAAMC,GAAW,CACbC,WAAY,SAAUC,GAClBtL,EAAY/C,MAAK,WACbqO,EAAItL,EAAY9E,OACpB,IAC4B,KAAxB8E,EAAYY,KAAK,GACjBZ,EAAYL,OAAO,KAEnB2L,EAAItL,EAAY9E,OAExB,GAKJyH,EAAY,eAAgB,CACxBnD,KAAK+L,GACD7N,KAAK0C,UAAY,GACjB1C,KAAK6N,SAAWA,EAChB7N,KAAK8N,OACR,EACDA,QACI9N,KAAK0M,KAAO,GACZ1M,KAAK0C,UAAU7D,OAAS,CAC3B,EACDkP,IAAI3P,GACA,OAAO4B,KAAK0M,KAAK1P,eAAeoB,EACnC,EACD4P,QACI,OAAyC,IAAlCzR,OAAOmB,KAAKsC,KAAK0M,MAAM7N,MACjC,EACDoP,SAAS7P,EAAMxC,GACXoE,KAAKkO,OAAO9P,GACZ4B,KAAK6N,SAASxJ,KAAKjG,EAAMxC,GACrBoE,KAAKgO,SACLhO,KAAK0C,UAAUhG,SAASE,IACpBoD,KAAK0C,UAAUN,OAAOpC,KAAK0C,UAAUV,QAAQpF,GAAW,GACxDA,GAAU,GAGrB,EACDsR,OAAO9P,GAIH,OAHI4B,KAAK+N,IAAI3P,WACF4B,KAAK0M,KAAKtO,GAEd4B,IACV,EACDuN,KAAK5L,GAMD,OALI3B,KAAKgO,QACLrM,IAEA3B,KAAK0C,UAAUvE,KAAKwD,GAEjB3B,IACV,EACDmO,OACI5R,OAAOmB,KAAKsC,KAAK0M,MAAMhQ,SAAS0B,IAC5B4B,KAAKkO,OAAO9P,EAAK,IAErB4B,KAAK0M,KAAO,GACZ1M,KAAK0C,UAAU7D,OAAS,CAC3B,EACDuP,OAAOhQ,EAAMyP,GACL7N,KAAK+N,IAAI3P,IACT4B,KAAKiO,SAAS7P,EAAMyP,EAE3B,EACDQ,IAAIjQ,EAAMkQ,GASN,OARAtO,KAAK0M,KAAKtO,GAAQkQ,EAAQf,MACrBhC,IACGvL,KAAKoO,OAAOhQ,EAAMmN,EAAQ,IAE9B,KACIvL,KAAKoO,OAAOhQ,EAAK,IAGlB4B,IACX,IAKJiF,EAAY,kBAAmB,CAC3BnD,KAAM,SAASvB,GACXP,KAAKb,OAAOoB,GACZP,KAAKsE,MAAQY,EAAS,eAAelF,KACxC,EACDuO,MAAO,SAASnQ,EAAKkG,GAEjB,OADAtE,KAAKsE,MAAM+J,IAAIjQ,EAAKkG,GACbtE,IACV,EACDuN,KAAM,SAAS3Q,GAEX,OADAoD,KAAKsE,MAAMiJ,KAAK3Q,GACToD,IACV,EACDmO,KAAM,WAEF,OADAnO,KAAKsE,MAAM6J,OACJnO,IACV,EACDuK,OAAQ,SAAUiE,EAASxD,EAAUzK,GAMjC,OALAiO,EAAU/I,SAAS2G,cAAcoC,GACjCxD,EAAWiC,GAAKjC,GAAUT,OAAOhK,GACjCiO,EAAQnD,UAAY,GACpBmD,EAAQ5C,YAAYZ,GACpBvC,EAAa+F,GACNA,CACX,IAKJvJ,EAAY,iBAAkB,CAC1B7B,MAAO,WACH,IAAIA,EAAQd,EAAYc,QAExB,OADApD,KAAKqE,KAAK,QAAQjB,GACXA,CACV,EACDjH,MAAO,SAAUyQ,GACb,OAAO,IAAItO,OAAOsO,GAAKtL,KAAKtB,KAAKqE,KAAK,QACzC,EACDoK,MAAO,WACH,IAAI7J,EAAO,GAAGvH,MAAMnB,KAAKgE,WACrB9B,EAAOwG,EAAKrD,QACZzB,EAAS8E,EAAKrD,QACdkN,EAAQvJ,EAAS9G,GACrB,OAAI0B,GAAqC,mBAAnB2O,EAAM3O,GACjB2O,EAAM3O,GAAQT,MAAMoP,EAAO7J,GAE/B6J,CACV,EACDC,aAAc,WACV,MAAO,IAAI/Q,OAAOqC,KAAKmE,IAAI,gBAAgB,IAC9C,EACD3G,KAAM,SAAS5B,GACXoE,KAAKqE,KAAK,OAAOzI,EACpB,EACD8C,OAAQ,SAAS6B,GACbA,EAAOhE,OAAO0F,OAAO,CAAA,EAAGjC,KAAKmE,IAAI,SAAS,CAAE,GAAE5D,GAAQ,CAAE,GACxDP,KAAKqE,KAAK,SAAS9D,GACnBP,KAAKqE,KAAK,SAAS9D,EACvB,IAKJH,EAAY,QAAS,CACjB0B,KAAM,SAAU1D,GACZ4B,KAAKtB,OAAS,GACdsB,KAAK0C,UAAY,GACjB1C,KAAK5B,KAAQA,EACb4B,KAAK2O,MAAQpR,EAAaa,EAC7B,EACDmP,KAAM,SAAU5L,GAEZ,OADA3B,KAAK0C,UAAUvE,KAAKwD,GACb3B,IACV,EACD7D,MAAO,SAAUqB,GAGb,OAFAwC,KAAKxC,KAAOA,EACZwC,KAAKtB,OAASH,EAAUyB,KAAK2O,MAAO3O,KAAKxC,QAChCwC,KAAKtB,MACjB,EACDkQ,aAAc,WACV,OAAO5O,KAAK0C,SAChB,IAUJ,MAAMmM,GAASzO,EAAY,SAAU,CACjC0B,KAAM,WACF9B,KAAK8O,SAAW,GAChB9O,KAAK+O,QAAW,GAChB/O,KAAKgP,SAAW,GAChBhP,KAAKiP,QAAW/J,EAAS,kBACzBlF,KAAK6N,SAAW3I,EAAS,kBAC5B,EACDgK,QAAS,WACLlP,KAAKiP,QAAQ5K,KAAK,OAAO,IACzBrE,KAAKiP,QAAQ5K,KAAK,SAAS,CAAE,GAC7BrE,KAAKiP,QAAQ5K,KAAK,SAAS,CAAE,GAC7BrE,KAAK6N,SAASxJ,KAAK,OAAO,CAAE,GAC5BrE,KAAK6N,SAASM,MACjB,EACDgB,MAAO,SAAU3R,GACb,IAAI2R,EAAQnP,KAAKgP,SAASxR,IAAS8C,EAAS,QAAS9C,GAErD,OADAwC,KAAKgP,SAASxR,GAAQ2R,EACfA,CACV,EACDC,IAAK,SAAS5R,GACV,OAAOwC,KAAKmP,MAAM3R,EAAKG,OAAO,IAAI,eACrC,EACD0R,OAAQ,SAAU1N,GAEd,OADA3B,KAAK8O,SAAS3Q,KAAKwD,GACZ3B,IACV,EACDsP,MAAO,SAAU3N,GAEb,OADA3B,KAAK+O,QAAQ5Q,KAAKwD,GACX3B,IACV,EACD9D,KAAM,SAAUa,EAASkS,EAASpB,EAAU0B,GACxCvP,KAAKiP,QAAWA,EAChBjP,KAAK6N,SAAWA,EAChB7N,KAAKyG,KAAKzG,KAAKiP,QAAQP,eAAea,EACzC,EACDlQ,MAAO,SAAUtC,EAAS2B,GACtBsB,KAAK9D,KAAKa,EAAQ2B,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAChD,EACD8Q,QAAS,SAAU9C,EAAMuB,IACrB,SAAUsB,EAAK3N,EAAGuB,GACd,IAAIzE,EAAS,GAEb,IAAc,KADDgO,EAAKvJ,KAAU,GACP,OAAO8K,GAAYA,EAAS/R,MAAQ+R,EAAS/R,KAAK0F,GACvElD,EAAOP,KAAKyD,EAAGqN,SACfvQ,EAAOP,KAAKyD,EAAGiM,UACfnP,EAAOP,MAAK,WACRyD,EAAGiM,SAASN,MAAK,WACbgC,EAAK3N,IAAKuB,EACd,GACJ,IACAuJ,EAAKvJ,GAAO9D,MAAMuC,EAAGlD,EACxB,CAZD,CAYGsB,KAAK,EACX,EACDyP,MAAO,SAAUN,EAAMlB,GACnBjO,KAAKiP,QAAQzR,KAAK2R,EAAM3R,MACxBwC,KAAKiP,QAAQvQ,OAAOyQ,EAAMzQ,QAC1BsB,KAAKiP,QAAQ7L,QACbpD,KAAKwP,QAAQxP,KAAK8O,UAAU,WACxB9O,KAAKwP,QAAQL,EAAMP,gBAAgB,WAC/B5O,KAAKwP,QAAQxP,KAAK+O,QAASd,EAC/B,GACJ,GACH,EACDxH,KAAM,SAAUjJ,EAAKyQ,GACjB,IAAIkB,EAAM1R,EAAS6C,EAAS,QAAS9C,GAIrC,IAAK2R,KAHY,IAAblB,GACAjO,KAAKkP,UAEKlP,KAAKgP,SACf,GAAIhP,KAAKgP,SAAShS,eAAemS,KAC7BA,EAAQnP,KAAKgP,SAASG,GAClBA,EAAMhT,MAAMqB,IAAO,CACnBC,EAAS0R,EACT,KACJ,CAGRnP,KAAKyP,MAAMhS,EAAOwQ,EACrB,EACDyB,OAAQ,SAAU9S,GAGJ,IAAU+S,EAKpB,MAP0B,iBAAd/S,GAA0D,mBAAxB8Q,GAAS9Q,KACnDA,EAAW8Q,GAAS9Q,IACxBA,GAAoB+S,EAIjB3P,KAHQ,SAAUxC,GACbmS,EAAKlJ,KAAKjJ,GAAK,MAGhBwC,IACX,ICjRJ,SAAS4P,KAAiB,CAE1BA,GAAcnT,UAAY,CACtBoT,QAAS,SAAU7R,GACf,OAAOgC,KAAKhC,EACf,EACD8R,QAAS,SAAU9R,EAAKpC,GACpBoE,KAAKhC,GAAOpC,CACf,EACDmU,WAAY,SAAU/R,UACXgC,KAAKhC,EACf,EACDgS,MAAO,WACH,IAAK,IAAIhS,KAAOgC,KACRA,KAAKhD,eAAegB,WACbgC,KAAKhC,EAGxB,GAGJ,MAAMiS,GAAgB,IAAIL,GAEpBM,GAAmB,iBAAkBxU,QAAUA,OAAqB,aAAKA,OAAqB,aAAIuU,GCrB3FE,GAAe,CACxBC,gBAAiBF,GACjBrD,IAAK,SAAU7O,EAAKuC,EAAM8P,GACtBA,GAAM,IAAItG,MAAOC,UAAkB,IAANqG,EAAa,GAC1C,IACIH,GAAgBJ,QAAQ,CAAC,QAAS9R,EAAK,OAAO+E,KAAK,KAAMsN,GACzDH,GAAgBJ,QACZ,CAAC,QAAS9R,GAAK+E,KAAK,KACpB5F,KAAKC,UAAUmD,GAEtB,CAAC,MAAOkD,GACLyM,GAAgBF,OACpB,CACA,OAAOhQ,IACV,EACDsQ,OAAQ,SAAUtS,GAGd,OAFAkS,GAAgBH,WAAW,CAAC,QAAS/R,EAAK,OAAO+E,KAAK,MACtDmN,GAAgBH,WAAW,CAAC,QAAS/R,GAAK+E,KAAK,MACxC/C,IACV,EACDuQ,MAAO,SAAUvS,GACb,IAAIqS,EAAMG,QAAQX,QAAQ,CAAC,QAAS7R,EAAK,OAAO+E,KAAK,MACrD,SAAUsN,GAAOA,GAAM,IAAItG,MAAOC,UACrC,EACDjC,IAAK,SAAU/J,GACX,OAAOb,KAAKqG,MAAMgN,QAAQX,QAAQ,CAAC,QAAS7R,GAAK+E,KAAK,MACzD,EACD2J,KAAM,WACF,IAAI1O,EACA0O,EAAO,GACX,IAAK1O,KAAOkS,GACJA,GAAgBlT,eAAegB,KAEA,IAA3BA,EAAIgE,QAAQ,YACa,IAAzBhE,EAAIgE,QAAQ,SAEZ0K,EAAKvO,KAAKH,EAAIX,MAAM,IAIhC,OAAOqP,CACV,EACDsD,MAAO,SAAU1H,GACbtI,KAAK0M,OAAOhQ,QACR,SAAUsB,KACM,IAAVsK,IAAsC,IAApBtI,KAAKuQ,MAAMvS,KAC3BgC,KAAKsQ,OAAOtS,EACpB,EAAEuB,KAAKS,MAEf,GCjCJqD,EAAE1B,GAAG8O,YRsDE,SAAsBlQ,GAoBzB,OAnBAP,KAAKyG,KAAK,UAAU1B,MAAK,SAAS5B,EAAM4C,GACpC,IAAI2K,EAAUrN,EAAE0C,GACZ4K,EAAQD,EAAQrM,KAAK,QAAQlI,MAAM+F,GACnCtG,EAzDZ,SAAc2E,EAAM8D,GAChB,IAAI1F,EAAI,EACJP,GAAQiG,GAAQ,IAAIrD,MAAM,KAC1BlE,EAAOsB,EAAKsG,MAChB,KAAO/F,EAAIP,EAAKS,QACR0B,GAAQA,EAAKvD,eAAeoB,EAAKO,IADjBA,IAEhB4B,EAAOA,EAAKnC,EAAKO,IAKzB,OAAO4B,EAAOA,EAAKzD,GAAQ,IAC/B,CA6CoBuH,CAAK9D,EAAKoQ,EAAM5N,KAAK,MAC7BnH,IACI8U,EAAQE,GAAG,UACPF,EAAQxP,QAAUtF,GAClB8U,EAAQrM,KAAK,WAAW,GAErBqM,EAAQE,GAAG,cAClBhV,EAAQD,EAAQC,GAASA,EAAQ,CAACA,GAC9BA,EAAMoG,QAAQ0O,EAAQxP,QAAU,GAChCwP,EAAQrM,KAAK,WAAW,IAG5BqM,EAAQxP,IAAItF,GAGxB,IACOoE,IACX,EQ1EAqD,EAAE1B,GAAGkP,YRwCE,SAAqB5J,EAAOxG,GAC/B,IAGI/B,EAAS8B,EAHAR,KAAK8Q,iBAAiBC,KAAI,SAASC,GAC5C,MAAO,CAACA,EAAM5S,KAAM6S,mBAAmBD,EAAMpV,QAAQmH,KAAK,IAC9D,IAAGA,KAAK,KACmBtC,GAAQ,GACnC,OAAkB,IAAXwG,EAAkB9E,EAAMzD,GAAUA,CAC7C,EQ7CA2E,EAAE1B,GAAG8G,aAAe,WAChBzI,KAAK+E,MAAK,SAAU5B,EAAO4C,GACvB0C,EAAa1C,EACjB,GACJ,wILoMA,SAAuB3H,EAAMe,EAAQkB,GACjC,OAAI8E,EAAgB/G,IAChB0M,QAAQoG,KAAK,0CAA2C9S,GACjD+G,EAAgB/G,KAM3B+G,EAAgB/G,IAASiC,EAAQ8E,EAAgBhG,GAAUoG,GAASpG,OAAOkB,GAAgBlB,EAAQf,GAC5F+G,EAAgB/G,GAC3B"}