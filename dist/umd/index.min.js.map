{"version":3,"file":"index.min.js","sources":["../../src/core/jquery.js","../../src/core/utils.js","../../src/core/class.js","../../src/core/deparam.js","../../src/core/form.js","../../src/core/location.js","../../src/core/model.js","../../src/core/router.js","../../src/core/control.js","../../src/core/view.js","../../src/utils/storage.js","../../src/utils/cache.js","../../src/index.js"],"sourcesContent":["/**\n * @external jQuery\n * @type {jQuery}\n */\nexport const jQuery = window['jQuery']\n","export function getType(o) {\n    return {}.toString\n        .call(o)\n        .match(/\\s([a-zA-Z]+)/)[1]\n        .toLowerCase()\n}\n/**\n *\n * @param value\n * @return {*}\n */\nexport function isArray(value) {\n    return Array.isArray(value)\n}\n/**\n *\n * @param value\n * @return {boolean}\n */\nexport function isFunction(value) {\n    return typeof value === 'function'\n}\n\n/**\n *\n * @param o\n * @return {boolean}\n */\nexport function isAnyObject(o) {\n    return getType(o) === 'object'\n}\n/**\n *\n * @param value\n * @returns {*}\n */\nexport function isPlainObject(value) {\n    if (isAnyObject(value) === false) return false\n    return (\n        value.constructor === Object &&\n        Object.getPrototypeOf(value) === Object.prototype\n    )\n}\n/**\n *\n * @param object\n * @param callback\n * @param thisArg\n */\nexport function forEach(object, callback, thisArg) {\n    let prop,\n        context = thisArg || callback\n    for (prop in object) {\n        if (object.hasOwnProperty(prop)) {\n            callback.call(context, object[prop], prop)\n        }\n    }\n}\n\n/**\n *\n * @param obj\n * @returns {{}}\n */\nexport function sortObject(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (result, key) {\n            result[key] = obj[key]\n            return result\n        }, {})\n}\n\n/**\n *\n * @param a\n * @return {string}\n */\nexport function arrayStringify(a) {\n    return JSON.stringify(a.slice().sort())\n}\n\n/**\n *\n * @param a1\n * @param a2\n * @return {boolean}\n */\nexport function compareArrays(a1, a2) {\n    return arrayStringify(a1) === arrayStringify(a2)\n}\n\n/**\n *\n * @param a\n * @param b\n * @return {boolean}\n */\nexport function arrayEqual(a, b) {\n    if (a === b) return true\n    if (a == null || b == null) return false\n    if (a.length !== b.length) return false\n    for (let i = 0; i < a.length; ++i) {\n        if (a[i] !== b[i]) return false\n    }\n    return true\n}\n\n/**\n *\n * @param path\n * @return {RegExp}\n */\nexport function pathToRegexp(path) {\n    let result,\n        keys = []\n    function parse(_, slash, format, key, capture, opt) {\n        keys.push({ name: key, optional: !!opt })\n        slash = slash || ''\n        return (\n            '' +\n            (opt ? '' : slash) +\n            '(?:' +\n            (opt ? slash : '') +\n            (format || '') +\n            (capture || (format && '([^/.]+?)') || '([^/]+?)') +\n            ')' +\n            (opt || '')\n        )\n    }\n    path = path.concat('/?')\n    path = path\n        .replace(/\\/\\(/g, '(?:/')\n        .replace(/\\+/g, '__plus__')\n        .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, parse)\n        .replace(/([\\/.])/g, '\\\\$1')\n        .replace(/__plus__/g, '(.+)')\n        .replace(/\\*/g, '(.*)')\n        .replace(/@num/g, '\\\\d+')\n        .replace(/@word/g, '\\\\w+')\n    result = new RegExp('^' + path + '$', '')\n    result.keys = keys\n    return result\n}\n/**\n *\n * @param regexp\n * @param path\n * @returns {{}|boolean}\n */\nexport function pathMatch(regexp, path) {\n    let key\n    let match = regexp.exec(path)\n    let params = {}\n    if (!match) return false\n    for (let i = 1, len = match.length; i < len; ++i)\n        if ((key = regexp.keys[i - 1]))\n            params[key.name] =\n                typeof match[i] === 'string'\n                    ? decodeURIComponent(match[i])\n                    : match[i]\n    return params\n}\n","import { isFunction } from './utils'\n\nconst classRegistry = {}\n\nconst initState = { value: false }\n\nconst hasSuper = (fn) => {\n    return !!~fn.toString().indexOf('this._super(')\n}\n\nconst setPrototypeOf = function (o, p) {\n    const setPrototypeOf = Object.setPrototypeOf\n        ? Object.setPrototypeOf.bind(null)\n        : function _setPrototypeOf(o, p) {\n              o.__proto__ = p\n              return o\n          }\n    return setPrototypeOf(o, p)\n}\n\nconst newConstructor = function (parent, params) {\n    const a = [null]\n    a.push.apply(a, params)\n    return Function.bind.apply(parent, a)\n}\n\nconst newInstance = function (parent, params, extend) {\n    const Constructor = newConstructor(parent, params)\n    const instance = new Constructor()\n    if (extend) setPrototypeOf(instance, extend.prototype)\n    return instance\n}\n\nconst superMethod = function (parent, name, method) {\n    return function () {\n        let temp = this._super,\n            result\n        this._super = parent[name]\n        result = method.apply(this, arguments)\n        this._super = temp\n        return result\n    }\n}\n\nconst assign = function (target, instance) {\n    let prop,\n        proto,\n        parent = target.prototype\n    initState.value = true\n    proto = new target()\n    initState.value = false\n    for (prop in instance) {\n        if (instance.hasOwnProperty(prop)) {\n            if (\n                isFunction(parent[prop]) &&\n                isFunction(instance[prop]) &&\n                hasSuper(instance[prop])\n            ) {\n                proto[prop] = superMethod(parent, prop, instance[prop])\n            } else {\n                proto[prop] = instance[prop]\n            }\n        }\n    }\n    return proto\n}\n/**\n * @type {function}\n * @name Class\n * @constructor\n */\nconst Class = function () {}\n\nClass.prototype = {\n    _super() {},\n    instance() {\n        return newInstance(this.constructor, arguments)\n    },\n    proxy(fn) {\n        fn = typeof fn == 'string' ? this[fn] : fn\n        return (function (cx, cb) {\n            return function () {\n                return cb.apply(cx, [this].concat([].slice.call(arguments)))\n            }\n        })(this, fn)\n    },\n}\n\nClass.extend = function extend(instance, name) {\n    /**\n     *\n     * @constructor\n     * @property {Function} init\n     */\n    function Class() {\n        if (!initState.value && this.init) this.init.apply(this, arguments)\n    }\n    Class.prototype = assign(this, instance)\n    Class.prototype.$className = name\n    Class.prototype.constructor = Class\n    Class.extend = extend\n    return Class\n}\n\n/**\n * @template {string} T\n * @param {T} name\n * @param extend\n * @param [proto]\n */\nfunction createClass(name, extend, proto) {\n    if (classRegistry[name]) {\n        return classRegistry[name]\n    }\n    /**\n     * @type {extend & proto}\n     * @extends Class\n     */\n    classRegistry[name] = (proto ? classRegistry[extend] : Class).extend(\n        proto ? proto : extend,\n        name\n    )\n    return classRegistry[name]\n}\n\nfunction getClass(name, data) {\n    if (typeof classRegistry[name] !== 'function') return null\n    return new classRegistry[name](data)\n}\n\nexport { Class, getClass, newInstance, createClass }\n","export function deparam(params, coerce, spaces) {\n    let obj = {},\n        coerce_types = { 'true': !0, 'false': !1, 'null': null }\n    if (spaces) params = params.replace(/\\+/g, ' ')\n    params.split('&').forEach(function(v) {\n        let param = v.split('='),\n            key = decodeURIComponent(param[0]),\n            val,\n            cur = obj,\n            i = 0,\n            keys = key.split(']['),\n            keys_last = keys.length - 1\n        if (/\\[/.test(keys[0]) && /]$/.test(keys[keys_last])) {\n            keys[keys_last] = keys[keys_last].replace(/]$/, '')\n            keys = keys.shift().split('[').concat(keys)\n            keys_last = keys.length - 1\n        } else {\n            keys_last = 0\n        }\n        if (param.length === 2) {\n            val = decodeURIComponent(param[1])\n            if (coerce) {\n                val = val && !isNaN(val) && ((+val + '') === val) ? +val\n                    : val === 'undefined' ? undefined\n                        : coerce_types[val] !== undefined ? coerce_types[val]\n                            : val\n            }\n            if (keys_last) {\n                for (; i <= keys_last; i++) {\n                    key = keys[i] === '' ? cur.length : keys[i]\n                    cur = cur[key] = i < keys_last\n                        ? cur[key] || (keys[i + 1] && isNaN(keys[i + 1]) ? {} : [])\n                        : val\n                }\n            } else {\n                if (Object.prototype.toString.call(obj[key]) === '[object Array]') {\n                    obj[key].push(val)\n                } else if ({}.hasOwnProperty.call(obj, key)) {\n                    obj[key] = [obj[key], val]\n                } else {\n                    obj[key] = val\n                }\n            }\n\n        } else if (key) {\n            obj[key] = coerce\n                ? undefined\n                : ''\n        }\n    })\n    return obj\n}\n","import { deparam } from './deparam'\nimport { isPlainObject, isArray } from './utils'\n\n/**\n *\n * @type {RegExp}\n */\nconst breaker = /[^\\[\\]]+|\\[\\]$/g\n\n/**\n *\n * @param data\n * @param attr\n * @returns {*|null}\n */\nfunction attr(data, attr) {\n    let i = 0,\n        name = (attr || '').split('.'),\n        prop = name.pop()\n    for (; i < name.length; i++) {\n        if (data && data.hasOwnProperty(name[i])) {\n            data = data[name[i]]\n        } else {\n            break\n        }\n    }\n    return data ? data[prop] : null\n}\n\n/**\n *\n * @param obj\n * @returns {*}\n */\nexport function clean(obj) {\n    let prop\n    for (prop in obj) {\n        if (obj.hasOwnProperty(prop)) {\n            if (obj[prop].length === 0) {\n                if (isArray(obj)) obj.splice(prop, 1)\n                if (isPlainObject(obj)) delete obj[prop]\n            } else if (typeof obj[prop] == 'object') {\n                clean(obj[prop])\n            }\n        }\n    }\n    return obj\n}\n\n/**\n *\n * @param filter\n * @param coerce\n * @returns {*}\n */\nexport function getFormData(filter, coerce) {\n    let form = this.serializeArray()\n        .map((field) => [field.name, encodeURIComponent(field.value)].join('='))\n        .join('&')\n    let params = deparam(form, coerce, false)\n    return filter === true ? clean(params) : params\n}\n\n/**\n *\n * @param data\n * @returns {setFormData}\n */\nexport function setFormData(data) {\n    this.find('[name]').each((index, element) => {\n        let current = this.find(element)\n        let parts = current.attr('name').match(breaker)\n        let value = attr(data, parts.join('.'))\n        if (value) {\n            if (current.is(':radio')) {\n                if (current.val() === value) {\n                    current.attr('checked', true)\n                }\n            } else if (current.is(':checkbox')) {\n                value = isArray(value) ? value : [value]\n                if (value.indexOf(current.val()) > -1) {\n                    current.attr('checked', true)\n                }\n            } else {\n                current.val(value)\n            }\n        }\n    })\n    return this\n}\n","import { deparam } from './deparam'\n\nlet skip = false\n\nexport const UrlLocation = {\n    prefix: '#',\n    type: 'hash',\n    event: 'hashchange',\n    callbacks: [],\n    initialize: false,\n    url: function(url, replace) {\n        location[replace === true ? 'replace' : 'assign'](url)\n        return this\n    },\n    normalize: function(url) {\n        let prefix = this.prefix\n        if (url.indexOf('http') === 0) prefix = ''\n        else if (url.indexOf('#') === 0) prefix = ''\n        return [prefix, url].join('')\n    },\n    assign: function(url, silent) {\n        skip = silent\n        return this.url(this.normalize(url))\n    },\n    replace: function(url, silent) {\n        skip = silent\n        return this.url(this.normalize(url), true)\n    },\n    href: function() {\n        return location[this.type].slice(1)\n    },\n    part: function(index) {\n        return this.href().split('#')[0].split('?')[index] || ''\n    },\n    query: function(value, replace, silent) {\n        if (arguments.length) {\n            value = value ? [this.part(0), $.param(value)].join('?') : this.part(0)\n            this[replace ? 'replace' : 'assign'](value, silent)\n        } else {\n            return deparam(this.part(1))\n        }\n    },\n    path: function(value, replace, silent) {\n        if (arguments.length) {\n            value = this.part(1) ? [value, this.part(1)].join('?') : value || '/'\n            this[replace ? 'replace' : 'assign'](value, silent)\n        } else {\n            return this.part(0)\n        }\n    },\n    json: function(value, replace, silent) {\n        let href = this.href()\n        let chunk = href.split('#')[0].split('?')[1] || '{}'\n        if (arguments.length) {\n            value = value ? [this.part(0), JSON.stringify(value)].join('?') : this.part(0)\n            this[replace ? 'replace' : 'assign'](value, silent)\n        } else {\n            try {\n                chunk = decodeURIComponent(chunk)\n                chunk = JSON.parse(chunk)\n            } catch (e) {\n                chunk = {}\n            }\n            return chunk\n        }\n    },\n    bind: function(callback) {\n        this.callbacks.push(callback)\n        this.changeHandler = this.changeHandler || this.change.bind(this)\n        if (this.initialize === false) {\n            window.addEventListener(this.event, this.changeHandler)\n            this.initialize = true\n        }\n    },\n    unbind: function(callback) {\n        this.callbacks.splice(this.callbacks.indexOf(callback), 1)\n    },\n    host: function() {\n        return location.host\n    },\n    indexOf: function(str, index) {\n        return this.href().indexOf(str) === index\n    },\n    change: function() {\n        let index\n        if (skip === true) {\n            return skip = false\n        }\n        if (this.callbacks.length) {\n            for (index in this.callbacks) {\n                if (this.callbacks.hasOwnProperty(index)) {\n                    this.callbacks[index].call(this)\n                }\n            }\n        }\n    }\n}\n","import { jQuery } from './jquery'\nimport { Class } from './class'\nimport {\n    isArray,\n    isPlainObject,\n    forEach,\n    sortObject,\n    isFunction,\n} from './utils'\n/**\n * @template {string} T\n * @type {{T:Model}}\n */\nconst modelRegistry = {}\n/**\n * @name Model\n * @type {Class|*}\n */\nconst Model = Class.extend({\n    forEach,\n    init(data) {\n        this.extend(data)\n    },\n    extend(data) {\n        if (data) {\n            this.$data = data\n        } else {\n            this.$data = {}\n        }\n    },\n    alt(prop, defaults) {\n        prop = this.attr(prop)\n        return prop === undefined || prop === null || prop === ''\n            ? defaults\n            : prop\n    },\n    defer() {\n        return jQuery.Deferred()\n    },\n    resolve() {\n        return this.defer().resolve(this)\n    },\n    attr(key, value) {\n        let setter = arguments.length > 1\n        let data = this.$data\n        let name = (key || '').split('.')\n        let prop = name.pop()\n        for (let i = 0; i < name.length; i++) {\n            let chunk = name[i]\n            if (data && data.hasOwnProperty(chunk)) {\n                let item = data[chunk]\n                if (isFunction(item.attr)) {\n                    let args = [\n                        key\n                            .split('.')\n                            .slice(i + 1)\n                            .join('.'),\n                    ]\n                    setter && args.push(value)\n                    return item.attr.apply(item, args)\n                } else {\n                    data = data[chunk]\n                }\n            } else {\n                if (setter) {\n                    data = data[chunk] = {}\n                } else {\n                    break\n                }\n            }\n        }\n        if (setter) {\n            data[prop] = value\n        } else {\n            return data ? data[prop] : undefined\n        }\n        return this\n    },\n    eachItem(args) {\n        let name = args[1] ? args[0] : null\n        let callback = args[1] ? args[1] : args[0]\n        let value = name ? this.alt(name, []) : this.$data\n        return {\n            value: sortObject(value),\n            isArray: isArray(value),\n            callback: callback,\n        }\n    },\n    each() {\n        let each = this.eachItem(arguments)\n        this.forEach(\n            each.value,\n            function (value, key) {\n                each.callback(this.instance(value), value, key)\n            },\n            this\n        )\n    },\n    serialize() {\n        const context = this\n        return (function callback(data) {\n            const result = isArray(data) ? [] : {}\n            for (let prop in data) {\n                if (data.hasOwnProperty(prop)) {\n                    let value = data[prop]\n                    if (value === context) {\n                        continue\n                    }\n                    if (value && isFunction(value.serialize)) {\n                        result[prop] = value.serialize()\n                    } else {\n                        if (isArray(value) || isPlainObject(value)) {\n                            result[prop] = callback(value)\n                        } else {\n                            result[prop] = value\n                        }\n                    }\n                }\n            }\n            return result\n        })(this.$data)\n    },\n    stringify: function () {\n        return JSON.stringify(this.serialize())\n    },\n})\n/**\n * @template {string} T\n * @param {T} name\n * @param extend\n * @param [proto]\n */\nfunction createModel(name, extend, proto) {\n    if (modelRegistry[name]) {\n        return modelRegistry[name]\n    }\n    /**\n     * @type {extend & proto}\n     * @extends Model\n     */\n    modelRegistry[name] = (proto ? modelRegistry[extend] : Model).extend(\n        proto ? proto : extend,\n        name\n    )\n    return modelRegistry[name]\n}\n\n/**\n * @template {string} T\n * @param {T} name\n * @param {object} [data]\n */\nfunction getModel(name, data) {\n    if (typeof modelRegistry[name] !== 'function') return\n    return new modelRegistry[name](data)\n}\n\nexport { Model, getModel, createModel }\n","import { createClass, getClass } from './class'\nimport { createModel, getModel } from './model'\nimport { UrlLocation } from './location'\nimport { pathToRegexp, pathMatch } from './utils'\n\n/**\n *\n * @type {{hashchange: function(run: function)}}\n */\nconst listener = {\n    hashchange(run) {\n        UrlLocation.bind(function () {\n            run(UrlLocation.path())\n        })\n        if (UrlLocation.part(0) === '') {\n            UrlLocation.assign('/')\n        } else {\n            run(UrlLocation.path())\n        }\n    },\n}\n/**\n * @name RouterQueue\n */\ncreateModel('router.queue', {\n    init(response) {\n        this.callbacks = []\n        this.response = response\n        this.reset()\n    },\n    reset() {\n        this.list = {}\n        this.callbacks.length = 0\n    },\n    has(name) {\n        return this.list.hasOwnProperty(name)\n    },\n    empty() {\n        return Object.keys(this.list).length === 0\n    },\n    complete(name, value) {\n        this.remove(name)\n        this.response.attr(name, value)\n        if (this.empty()) {\n            this.callbacks.forEach((callback) => {\n                this.callbacks.splice(this.callbacks.indexOf(callback), 1)\n                callback()\n            })\n        }\n    },\n    remove(name) {\n        if (this.has(name)) {\n            delete this.list[name]\n        }\n        return this\n    },\n    then(fn) {\n        if (this.empty()) {\n            fn()\n        } else {\n            this.callbacks.push(fn)\n        }\n        return this\n    },\n    stop() {\n        Object.keys(this.list).forEach((name) => {\n            this.remove(name)\n        })\n        this.list = {}\n        this.callbacks.length = 0\n    },\n    notify(name, response) {\n        if (this.has(name)) {\n            this.complete(name, response)\n        }\n    },\n    add(name, promise) {\n        this.list[name] = promise.then(\n            (content) => {\n                this.notify(name, content)\n            },\n            () => {\n                this.notify(name)\n            }\n        )\n        return this\n    },\n})\n/**\n * @name RouterResponse\n */\ncreateModel('router.response', {\n    init(data) {\n        this.extend(data)\n        this.defer = getModel('router.queue', this)\n    },\n    queue(name, defer) {\n        this.defer.add(name, defer)\n        return this\n    },\n    then(callback) {\n        this.defer.then(callback)\n        return this\n    },\n    stop() {\n        this.defer.stop()\n        return this\n    },\n    render(wrapper, template, data) {\n        console.info('render function call', wrapper, template, data)\n    },\n})\n/**\n * @name RouterRequest\n */\ncreateModel('router.request', {\n    query() {\n        let query = UrlLocation.query()\n        this.attr('query', query)\n        return query\n    },\n    match(exp) {\n        return new RegExp(exp).test(this.attr('path'))\n    },\n    model() {\n        let args = [].slice.call(arguments)\n        let name = args.shift()\n        let method = args.shift()\n        let model = getModel(name)\n        if (method && typeof model[method] === 'function') {\n            return model[method].apply(model, args)\n        }\n        return model\n    },\n    getChildPath() {\n        return '/'.concat(this.alt('params._path_', ''))\n    },\n    path(value) {\n        this.attr('path', value)\n    },\n    params(data) {\n        data = Object.assign({}, this.alt('parent', {}), data || {})\n        this.attr('params', data)\n        this.attr('parent', data)\n    },\n})\n/**\n * @name Route\n */\ncreateClass('route', {\n    init(name) {\n        this.params = {}\n        this.callbacks = []\n        this.name = name\n        this.regex = pathToRegexp(name)\n    },\n    then(fn) {\n        this.callbacks.push(fn)\n        return this\n    },\n    match(path) {\n        this.path = path\n        this.params = pathMatch(this.regex, this.path)\n        return !!this.params\n    },\n    getCallbacks() {\n        return this.callbacks\n    },\n})\n/**\n * @name Router\n * @property _before_\n * @property _after_\n * @property _routes_\n * @property request\n * @property response\n */\nconst Router = createClass('router', {\n    init() {\n        this._before_ = []\n        this._after_ = []\n        this._routes_ = {}\n        this.request = getModel('router.request')\n        this.response = getModel('router.response')\n    },\n    prepare() {\n        this.request.attr('path', '')\n        this.request.attr('params', {})\n        this.request.attr('parent', {})\n        this.response.attr('data', {})\n        this.response.stop()\n    },\n    route(path) {\n        let route = this._routes_[path] || getClass('route', path)\n        this._routes_[path] = route\n        return route\n    },\n    use(path) {\n        return this.route(path.concat('/', ':_path_(*)?'))\n    },\n    before(fn) {\n        this._before_.push(fn)\n        return this\n    },\n    after(fn) {\n        this._after_.push(fn)\n        return this\n    },\n    call(context, request, response, next) {\n        this.request = request\n        this.response = response\n        this.find(this.request.getChildPath(), next)\n    },\n    apply(context, params) {\n        this.call(context, params[0], params[1], params[2])\n    },\n    process(list, complete) {\n        ;(function next(cx, index) {\n            let params = []\n            let route = list[index] || false\n            if (route === false)\n                return complete && complete.call && complete.call(cx)\n            params.push(cx.request)\n            params.push(cx.response)\n            params.push(function () {\n                cx.response.then(function () {\n                    next(cx, ++index)\n                })\n            })\n            list[index].apply(cx, params)\n        })(this, 0)\n    },\n    start(route, complete) {\n        this.request.path(route.path)\n        this.request.params(route.params)\n        this.request.query()\n        this.process(this._before_, function () {\n            this.process(route.getCallbacks(), function () {\n                this.process(this._after_, complete)\n            })\n        })\n    },\n    find(path, complete) {\n        let route,\n            result = getClass('route', path)\n        if (complete === true) {\n            this.prepare()\n        }\n        for (route in this._routes_) {\n            if (this._routes_.hasOwnProperty(route)) {\n                route = this._routes_[route]\n                if (route.match(path)) {\n                    result = route\n                    break\n                }\n            }\n        }\n        this.start(result, complete)\n    },\n    listen(callback) {\n        if (\n            typeof callback === 'string' &&\n            typeof listener[callback] === 'function'\n        )\n            callback = listener[callback]\n        callback(\n            (function (that) {\n                return function (path) {\n                    that.find(path, true)\n                }\n            })(this)\n        )\n        return this\n    },\n})\n\nexport { Router }\n","import { jQuery } from './jquery'\nimport { Class, newInstance } from './class'\nimport { arrayEqual, forEach } from './utils'\n\n/**\n *\n * @type {{string:Control}}\n */\nconst controlRegistry = {}\nconst controls = []\nconst ATTR = 'control'\nconst ATTR_SELECTOR = '[' + ATTR + ']'\n\n/**\n * @name Control\n * @property {jQuery} element\n * @property {jQuery} window\n * @property {jQuery} document\n * @type {Class|*}\n */\nconst Control = Class.extend({\n    window: jQuery(window),\n    document: jQuery(document),\n    /**\n     *\n     * @param f\n     * @param s\n     * @param p\n     * @returns {*}\n     * @private\n     */\n    _addProxy_(f, s, p) {\n        if (p.length === f) p[f - 1] = this.proxy(p[f - 1])\n        if (p.length === s) p[s - 1] = this.proxy(p[s - 1])\n        return p\n    },\n    /**\n     *\n     * @param type\n     * @param params\n     * @returns Control\n     * @private\n     */\n    _event_(type, params) {\n        let args = this.toArray(params)\n        args = this._addProxy_(2, 3, args)\n        this.element[type].apply(this.element, args)\n        return this\n    },\n    /**\n     * @constructor\n     * @param element\n     */\n    init(element) {\n        this.pushInstance()\n        this.initElement(element)\n        this.create(element)\n    },\n    /**\n     *\n     */\n    pushInstance() {\n        controls.push(this)\n    },\n    /**\n     *\n     * @param element\n     */\n    initElement(element) {\n        this.element = jQuery(element)\n    },\n    /**\n     *\n     * @param element\n     */\n    create(element) {},\n    /**\n     *\n     * @param arr\n     * @returns {*[]}\n     */\n    toArray(arr) {\n        return Array.prototype.slice.call(arr)\n    },\n    /**\n     *\n     */\n    initBindings() {\n        if (!this._bindings_) {\n            this._bindings_ = []\n        }\n    },\n    /**\n     *\n     * @param args\n     */\n    addBinding(args) {\n        this.initBindings()\n        this._bindings_.push([].concat(args))\n    },\n    /**\n     *\n     * @param fn\n     * @returns {*}\n     */\n    proxy(fn) {\n        if (!this._proxy_cache_) this._proxy_cache_ = {}\n        if (!this._proxy_cache_[fn]) {\n            this._proxy_cache_[fn] = this._super(fn)\n        }\n        return this._proxy_cache_[fn]\n    },\n    /**\n     * @returns {jQuery}\n     */\n    find() {\n        return this.element.find.apply(this.element, arguments)\n    },\n    /**\n     *\n     * @param {string} tag\n     * @param {string} [className]\n     * @param {Object<string,string>} [attrs]\n     * @returns {jQuery}\n     */\n    el(tag, className, attrs) {\n        const el = jQuery(document.createElement(tag))\n        if (className) el.addClass(className)\n        if (attrs) el.attr(attrs)\n        return el\n    },\n    clearProxyCache() {\n        forEach(\n            this._proxy_cache_,\n            function (value, prop) {\n                delete this._proxy_cache_[prop]\n            },\n            this\n        )\n    },\n    bind() {\n        let args = this.toArray(arguments)\n        this.addBinding(args)\n        args = this._addProxy_(3, 4, args)\n        let el = this[args[0]] || jQuery(args[0])\n        el.on.apply(el, args.slice(1))\n        return this\n    },\n    unbind() {\n        let args = this.toArray(arguments)\n        this.initBindings()\n        this._bindings_ = this._bindings_.filter(\n            (item) => arrayEqual(item, args) === false\n        )\n        args = this._addProxy_(3, 4, args)\n        let el = this[args[0]] || jQuery(args[0])\n        el.off.apply(el, args.slice(1))\n        return this\n    },\n    unbindAll() {\n        this.initBindings()\n        this._bindings_.forEach(function (value) {\n            this.unbind.apply(this, value)\n        }, this)\n        this._bindings_ = []\n        return this\n    },\n    on() {\n        this._event_('on', arguments)\n        return this\n    },\n    off() {\n        this._event_('off', arguments)\n        return this\n    },\n    delay(callback, time) {\n        callback = this.proxy(callback, true)\n        const params = [callback, time].concat(Array.from(arguments).slice(2))\n        if (!this._delay_map_) this._delay_map_ = new WeakMap()\n        if (!this._delay_set_) this._delay_set_ = new Set()\n        if (this._delay_map_.has(callback)) {\n            clearTimeout(this._delay_map_.get(callback))\n        }\n        const delay = setTimeout.apply(null, params)\n        this._delay_set_.add(delay)\n        this._delay_map_.set(callback, delay)\n        return this\n    },\n    clearDelayList() {\n        if (!this._delay_set_) return true\n        this._delay_set_.forEach((delay) => {\n            clearTimeout(delay)\n        })\n        this._delay_set_ = null\n        this._delay_map_ = null\n    },\n    destroy() {\n        this.off()\n        this.unbindAll()\n        this.clearProxyCache()\n        this.clearDelayList()\n        this.element.removeData()\n    },\n    canBeDestroyed() {\n        return jQuery.contains(document, this.element.get(0)) === false\n    },\n})\n\nfunction sortControls(a, b) {\n    let c = a.querySelectorAll(ATTR_SELECTOR).length,\n        d = b.querySelectorAll(ATTR_SELECTOR).length\n    if ((c && !d) || c > d) return 1\n    if ((!c && d) || c < d) return -1\n    return 0\n}\n\nfunction cleanControls(force) {\n    controls.forEach(function (control, index) {\n        if (control.canBeDestroyed() || force) {\n            control.destroy()\n            controls.splice(index, 1)\n        }\n    })\n}\n\n/**\n * @template {string} T\n * @param {T} name\n * @param extend\n * @param [proto]\n */\nfunction createControl(name, extend, proto) {\n    if (controlRegistry[name]) {\n        console.info('control with name [%s] is already exist', name)\n        return controlRegistry[name]\n    }\n    /**\n     * @type {extend & proto}\n     * @extends Control\n     */\n    controlRegistry[name] = (proto ? controlRegistry[extend] : Control).extend(\n        proto ? proto : extend,\n        name\n    )\n    return controlRegistry[name]\n}\n\n/**\n * @template {string} T\n * @param {T} name\n * @returns {controlRegistry[T] & Control}\n */\n\nfunction initControl(name) {\n    const params = [].slice.call(arguments, 1)\n    if (typeof controlRegistry[name] !== 'function') return\n    return newInstance(controlRegistry[name], params)\n}\n\nfunction initControls(element) {\n    cleanControls()\n    Array.prototype.slice\n        .call(element.querySelectorAll(ATTR_SELECTOR))\n        .sort(sortControls)\n        .forEach(function (item) {\n            item.getAttribute(ATTR)\n                .split(',')\n                .forEach(function (name) {\n                    initControl(name, item)\n                })\n            item.removeAttribute(ATTR)\n        })\n}\n\nexport {\n    createControl,\n    sortControls,\n    cleanControls,\n    initControl,\n    initControls,\n    Control,\n}\n","import { jQuery } from './jquery'\nimport { Class } from './class'\nimport { initControl } from './control'\n\nconst listPreload = {}\nconst listView = {}\nconst listAttr = {}\nconst listProp = {}\nconst listCache = {}\n\nconst settings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g,\n    variable: false,\n}\n\nconst noMatch = /(.)^/\n\nconst escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029',\n}\n\nconst escaper = /[\\\\'\\r\\n\\t\\u2028\\u2029]/g\n\nconst htmlEntities = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n}\n\nconst entityRe = new RegExp('[&<>\"\\']', 'g')\n/**\n *\n * @param object\n * @param callback\n * @param thisArg\n */\nconst forEach = function (object, callback, thisArg) {\n    let prop,\n        context = thisArg || callback\n    for (prop in object) {\n        if (object.hasOwnProperty(prop)) {\n            callback.call(context, object[prop], prop)\n        }\n    }\n}\n/**\n *\n * @param value\n * @param params\n * @return {string}\n */\nconst stringFormat = function (value, params) {\n    return (value || '').replace(/{(.+?)}/g, function (match, prop) {\n        return typeof params[prop] != 'undefined' ? params[prop] : match\n    })\n}\n\n/**\n *\n * @return {string}\n */\nconst uid = function (ns) {\n    let size = 1000000\n    let length = String(size).length - 1\n    let random = Math.abs(Math.random()) * size\n    let time = String(new Date().getTime()).match(/.{1,7}/g)\n    let result = parseFloat(String(random)).toFixed(length).split('.')\n    return [ns].concat(result).concat(time).join('-')\n}\n/**\n *\n * @param element\n */\nconst mountNodes = function (element) {\n    forEach(listAttr, function (data, id, item, node) {\n        if ((item = element.getElementById(id)) === null) return false\n        node = document.createElement(data.tag)\n        item.parentNode && item.parentNode.replaceChild(node, item)\n        if (typeof data.callback === 'function') {\n            data.callback(node)\n        }\n        delete listAttr[id]\n    })\n}\n/**\n *\n * @param element\n */\nconst mountProps = function (element) {\n    forEach(listProp, function (item, attr) {\n        let node = element.querySelector(item.selector)\n        if (node === null) return\n        node.removeAttribute(attr)\n        if (typeof item.callback === 'function') {\n            item.callback(node)\n        }\n        delete listProp[attr]\n    })\n}\n/**\n *\n * @param string\n * @return {string}\n */\nconst escapeExpr = function (string) {\n    if (string == null) return ''\n    return ('' + string).replace(entityRe, function (match) {\n        return htmlEntities[match]\n    })\n}\n/**\n *\n * @param string\n * @return {string}\n */\nconst escapeString = function (string) {\n    if (string == null) return ''\n    return ('' + string).replace(escaper, function (match) {\n        return '\\\\' + escapes[match]\n    })\n}\n/**\n *\n * @param text\n * @param name\n * @return {function(*=): string}\n */\nconst compile = function (text, name) {\n    let render\n    let matcher = new RegExp(\n        [\n            (settings.escape || noMatch).source,\n            (settings.interpolate || noMatch).source,\n            (settings.evaluate || noMatch).source,\n        ].join('|') + '|$',\n        'g'\n    )\n    let index = 0\n    let source = \"__p+='\"\n    ;(text || '').replace(\n        matcher,\n        function (match, escape, interpolate, evaluate, offset) {\n            source += escapeString(text.slice(index, offset))\n            if (escape)\n                source +=\n                    \"'\\n+((__t=(\" + escape + \"))==null?'':escapeExpr(__t))+\\n'\"\n            if (interpolate)\n                source += \"'\\n+((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\"\n            if (evaluate) source += \"';\\n\" + evaluate + \";\\n__p+='\"\n            index = offset + match.length\n            return match\n        }\n    )\n    source += \"';\"\n    source = 'with(obj||{}){\\n' + source + '}'\n    source =\n        \"var __t,__p='',__j=[].join,print=function(){__p+=__j.call(arguments,'');};\" +\n        source +\n        'return __p;\\n//# sourceURL=[' +\n        name +\n        ']'\n    try {\n        render = new Function('obj', 'escapeExpr', source)\n    } catch (e) {\n        console.error(e)\n    }\n    let template = function (data) {\n        let output = ''\n        try {\n            output = render && render.call(this, data, escapeExpr)\n        } catch (e) {\n            console.error(e)\n        }\n        return output\n    }\n    template.source = 'function(obj){' + source + '}'\n    return template\n}\n\n/**\n *\n * @param html\n * @return {DocumentFragment}\n */\nconst fragment = function (html) {\n    let template = document.createElement('template')\n    if ('content' in template) {\n        template.innerHTML = html\n        return document.importNode(template.content, true)\n    }\n    let frag = document.createDocumentFragment()\n    let div = document.createElement('div')\n    div.innerHTML = html\n    while (div.firstChild) {\n        frag.appendChild(div.firstChild)\n    }\n    return frag\n}\n\n/**\n * @name Template\n * @type {Class|*}\n */\nconst template = Class.extend({\n    init: function (source, name) {\n        this.source = resolver.source(source)\n        this.compile(this.source, name)\n    },\n    compile: function (source, name) {\n        this.output = compile(source, name)\n        return this\n    },\n    renderHTML: function (data) {\n        data = this.extend(data)\n        return this.output.call(data, data)\n    },\n    render: function (data) {\n        let element = fragment(this.renderHTML(data))\n        mountNodes(element)\n        mountProps(element)\n        return element\n    },\n    extend: function (data) {\n        return jQuery.extend({}, this, data || {}, helpers)\n    },\n})\n/**\n *\n * @type {string[]}\n */\nconst defaultExtList = ['ejs', 'html', 'svg', 'css', 'js']\n/**\n *\n * @param list\n * @return {RegExp}\n */\nconst resolverExp = function (list) {\n    return new RegExp('^(.+)(\\\\.)(' + list.join('|') + ')$')\n}\n/**\n *\n *\n */\nconst resolver = {\n    ext: defaultExtList,\n    exp: resolverExp(defaultExtList),\n    set: function (list) {\n        this.ext = list\n        this.exp = resolverExp(list)\n    },\n    name: function (name) {\n        return String(name).replace(this.exp, '$1')\n    },\n    get: function (name) {\n        let i = 0,\n            c = false\n        let e = this.ext\n        let l = listView\n        let n = this.name(name)\n        for (; i < e.length; i++) {\n            c = l[[n, e[i]].join('.')]\n            if (c) {\n                break\n            }\n        }\n        return c\n    },\n    source: function (name) {\n        return this.get(name) || name\n    },\n}\n\nconst helpers = {\n    /**\n     * @memberOf window\n     * @name $include\n     * @param url\n     * @param data\n     * @returns  {*}\n     */\n    $include: function (url, data) {\n        return view(stringFormat(url, this)).renderHTML(data)\n    },\n    /**\n     * @memberOf window\n     * @name $each\n     * @param object\n     * @param callback\n     * @param context\n     * @returns {*}\n     */\n    $each: function (object, callback, context) {\n        forEach(object, callback, context)\n    },\n    /**\n     * @memberOf window\n     * @name $view\n     * @param tag\n     * @param callback\n     * @returns {*}\n     */\n    $view: function (tag, callback) {\n        let id = uid('node')\n        listAttr[id] = { tag: tag, callback: callback }\n        return stringFormat('<view id=\"{0}\"></view>', [id])\n    },\n    /**\n     * @memberOf window\n     * @name $prop\n     * @param callback\n     * @returns {string}\n     */\n    $prop: function (callback) {\n        let id = uid('attr')\n        listProp[id] = { selector: ['[', id, ']'].join(''), callback: callback }\n        return ['', id, ''].join(' ')\n    },\n    /**\n     * @memberOf window\n     * @name $control\n     * @param tag\n     * @param control\n     * @param params\n     * @returns {*}\n     */\n    $control: function (tag, control, params) {\n        return this.$view(tag, function (element) {\n            initControl(control, element)\n        })\n    },\n}\n\n/**\n *\n * @param name\n * @return {*}\n */\nfunction view(name) {\n    if (listCache[name]) return listCache[name]\n    listCache[name] = new template(name)\n    return listCache[name]\n}\n\nview.resolver = resolver\n\n/**\n *\n * @param url\n * @return {*}\n */\nview.preload = function (url) {\n    listPreload[url] =\n        listPreload[url] ||\n        jQuery.get(url).then(function (content) {\n            jQuery.extend(listView, content)\n        })\n    return listPreload[url]\n}\n/**\n *\n * @param name\n * @param func\n */\nview.helper = function (name, func) {\n    helpers[name] = func\n}\n\nexport { view }\n","function BackupStorage() {}\n\nBackupStorage.prototype = {\n    getItem: function (key) {\n        return this[key];\n    },\n    setItem: function (key, value) {\n        this[key] = value;\n    },\n    removeItem: function (key) {\n        delete this[key];\n    },\n    clear: function () {\n        for (let key in this) {\n            if (this.hasOwnProperty(key)) {\n                delete this[key];\n            }\n        }\n    }\n};\n\nconst backupStorage = new BackupStorage()\n\nconst StorageProvider = ('localStorage' in window && window['localStorage']) ? window['localStorage'] : backupStorage;\n\nexport {\n    StorageProvider\n}","import { StorageProvider } from './storage'\n\nexport const StorageCache = {\n    storageProvider: StorageProvider,\n    set: function (key, data, ttl) {\n        ttl = new Date().getTime() + ttl * 1000 * 60\n        try {\n            StorageProvider.setItem(['cache', key, 'ttl'].join(':'), ttl)\n            StorageProvider.setItem(\n                ['cache', key].join(':'),\n                JSON.stringify(data)\n            )\n        } catch (e) {\n            StorageProvider.clear()\n        }\n        return this\n    },\n    expire: function (key) {\n        StorageProvider.removeItem(['cache', key, 'ttl'].join(':'))\n        StorageProvider.removeItem(['cache', key].join(':'))\n        return this\n    },\n    exist: function (key) {\n        let ttl = Storage.getItem(['cache', key, 'ttl'].join(':'))\n        return !!(ttl && ttl > new Date().getTime())\n    },\n    get: function (key) {\n        return JSON.parse(Storage.getItem(['cache', key].join(':')))\n    },\n    list: function () {\n        let key,\n            list = []\n        for (key in StorageProvider) {\n            if (StorageProvider.hasOwnProperty(key)) {\n                if (\n                    key.indexOf('cache:') !== -1 &&\n                    key.indexOf(':ttl') === -1\n                ) {\n                    list.push(key.slice(6))\n                }\n            }\n        }\n        return list\n    },\n    clear: function (force) {\n        this.list().forEach(\n            function (key) {\n                ;(force === true || this.exist(key) === false) &&\n                    this.expire(key)\n            }.bind(this)\n        )\n    },\n}\n","import { jQuery } from './core/jquery'\nimport { pathToRegexp, pathMatch } from './core/utils'\nimport { Class, createClass, getClass } from './core/class'\nimport { getFormData, setFormData } from './core/form'\nimport { UrlLocation } from './core/location'\nimport { createModel, getModel, Model } from './core/model'\nimport { deparam } from './core/deparam'\nimport { Router } from './core/router'\nimport { view } from './core/view'\nimport { StorageCache } from './utils/cache'\nimport {\n    cleanControls,\n    Control,\n    createControl,\n    initControl,\n    initControls,\n} from './core/control'\n\njQuery.storageCache = Cache\njQuery.Class = Class\njQuery.Model = Model\njQuery.Control = Control\njQuery.Router = Router\njQuery.createClass = createClass\njQuery.getClass = getClass\njQuery.createModel = createModel\njQuery.getModel = getModel\njQuery.createControl = createControl\njQuery.initControl = initControl\njQuery.cleanControls = cleanControls\njQuery.location = UrlLocation\njQuery.deparam = deparam\njQuery.ejs = view\n\njQuery.fn.setFormData = setFormData\njQuery.fn.getFormData = getFormData\njQuery.fn.initControls = function () {\n    this.each(function (index, element) {\n        initControls(element)\n    })\n}\n\nconst config = (function () {})({})\n\nexport { jQuery as $ }\n\nexport {\n    deparam,\n    Class,\n    UrlLocation,\n    Model,\n    Control,\n    Router,\n    StorageCache,\n    pathToRegexp,\n    pathMatch,\n    createClass,\n    getModel,\n    getClass,\n    cleanControls,\n    createControl,\n    createModel,\n    initControl,\n}\n"],"names":["jQuery","window","isArray","value","Array","isFunction","isPlainObject","o","toString","call","match","toLowerCase","getType","constructor","Object","getPrototypeOf","prototype","forEach","object","callback","thisArg","prop","context","hasOwnProperty","pathToRegexp","path","result","keys","concat","replace","_","slash","format","key","capture","opt","push","name","optional","RegExp","pathMatch","regexp","exec","params","i","len","length","decodeURIComponent","classRegistry","initState","newInstance","parent","extend","Constructor","a","apply","Function","bind","newConstructor","instance","p","setPrototypeOf","__proto__","superMethod","method","temp","this","_super","arguments","Class","createClass","proto","getClass","data","deparam","coerce","spaces","obj","coerce_types","true","false","null","split","v","val","param","cur","keys_last","test","shift","isNaN","undefined","proxy","fn","cx","cb","slice","init","target","indexOf","assign","$className","breaker","clean","splice","skip","UrlLocation","prefix","type","event","callbacks","initialize","url","location","normalize","join","silent","href","part","index","query","$","json","chunk","JSON","parse","e","stringify","changeHandler","change","addEventListener","unbind","host","str","modelRegistry","Model","$data","alt","defaults","attr","defer","Deferred","resolve","setter","pop","item","args","eachItem","sort","reduce","each","serialize","createModel","getModel","listener","hashchange","run","response","reset","list","has","empty","complete","remove","then","stop","notify","add","promise","content","queue","render","wrapper","template","console","info","exp","model","getChildPath","regex","getCallbacks","Router","_before_","_after_","_routes_","request","prepare","route","use","before","after","next","find","process","start","listen","that","controlRegistry","controls","ATTR","ATTR_SELECTOR","Control","document","_addProxy_","f","s","_event_","toArray","element","pushInstance","initElement","create","arr","initBindings","_bindings_","addBinding","_proxy_cache_","el","tag","className","attrs","createElement","addClass","clearProxyCache","on","filter","b","arrayEqual","off","unbindAll","delay","time","from","_delay_map_","WeakMap","_delay_set_","Set","clearTimeout","get","setTimeout","set","clearDelayList","destroy","removeData","canBeDestroyed","contains","sortControls","c","querySelectorAll","d","cleanControls","force","control","createControl","initControl","listPreload","listView","listAttr","listProp","listCache","settings","noMatch","escapes","escaper","htmlEntities","entityRe","stringFormat","uid","ns","size","String","random","Math","abs","Date","getTime","parseFloat","toFixed","escapeExpr","string","compile","text","matcher","source","escape","interpolate","evaluate","offset","error","output","resolver","renderHTML","html","innerHTML","importNode","frag","createDocumentFragment","div","firstChild","appendChild","fragment","id","node","getElementById","parentNode","replaceChild","mountNodes","querySelector","selector","removeAttribute","mountProps","helpers","defaultExtList","resolverExp","ext","l","n","$include","view","$each","$view","$prop","$control","BackupStorage","preload","helper","func","getItem","setItem","removeItem","clear","backupStorage","StorageProvider","StorageCache","storageProvider","ttl","expire","exist","Storage","storageCache","Cache","ejs","setFormData","current","parts","is","getFormData","serializeArray","map","field","encodeURIComponent","initControls","getAttribute"],"mappings":"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"}